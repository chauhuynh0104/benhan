
<!-- 

///////////////////////////////////////////////
/////Code được viết bởi Chauhuynh0104/////////
////http://fb.com/chauhuynh0104//////////////
/////////////079.567.9350///////////////////
///Vui lòng tôn trọng bản quyền tác giả////
/////////Không xoá dòng này //////////////
/////////////////////////////////////////

!-->
<!DOCTYPE html>
<html lang="vi">
<head><meta charset="UTF-8"><title>Bệnh Án Điện Tử</title></head>
<body>
<script>
  const base64 = "PCEtLSANCg0KLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCi8vLy8vQ29kZSDEkcaw4bujYyB2aeG6v3QgYuG7n2kgQ2hhdWh1eW5oMDEwNC8vLy8vLy8vLw0KLy8vL2h0dHA6Ly9mYi5jb20vY2hhdWh1eW5oMDEwNC8vLy8vLy8vLy8vLy8vDQovLy8vLy8vLy8vLy8vMDc5LjU2Ny45MzUwLy8vLy8vLy8vLy8vLy8vLy8vLw0KLy8vVnVpIGzDsm5nIHTDtG4gdHLhu41uZyBi4bqjbiBxdXnhu4FuIHTDoWMgZ2nhuqMvLy8vDQovLy8vLy8vLy9LaMO0bmcgeG/DoSBkw7JuZyBuw6B5IC8vLy8vLy8vLy8vLy8vDQovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KDQohLS0+DQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sIGxhbmc9InZpIj4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9IlVURi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+DQogICAgPHRpdGxlPlF14bqjbiBsw70gYuG7h25oIMOhbjwvdGl0bGU+DQogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNi40LjAvY3NzL2FsbC5taW4uY3NzIj4NCjxzY3JpcHQgc3JjPSJodHRwczovL3VucGtnLmNvbS9kb2N4QDguMC4wL2J1aWxkL2luZGV4LmpzIj48L3NjcmlwdD4NCjxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9GaWxlU2F2ZXIuanMvMi4wLjUvRmlsZVNhdmVyLm1pbi5qcyI+PC9zY3JpcHQ+DQogICAgPHN0eWxlPg0KICAgICAgICA6cm9vdCB7DQogICAgICAgICAgICAtLXByaW1hcnk6ICNGRjZCMzU7DQogICAgICAgICAgICAtLXByaW1hcnktZGFyazogI0U1NUEyQjsNCiAgICAgICAgICAgIC0tcHJpbWFyeS1saWdodDogI0ZGOEU1QzsNCiAgICAgICAgICAgIC0tc2Vjb25kYXJ5OiAjMkQzMDQ3Ow0KICAgICAgICAgICAgLS1saWdodDogI0Y4RjlGQTsNCiAgICAgICAgICAgIC0tZ3JheTogIzZDNzU3RDsNCiAgICAgICAgICAgIC0tZGFuZ2VyOiAjREMzNTQ1Ow0KICAgICAgICAgICAgLS1zdWNjZXNzOiAjMjhBNzQ1Ow0KICAgICAgICAgICAgLS13YXJuaW5nOiAjRkZDMTA3Ow0KICAgICAgICAgICAgLS1pbmZvOiAjMTdBMkI4Ow0KICAgICAgICAgICAgLS1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7DQogICAgICAgICAgICAtLXNoYWRvdy1sZzogMCAxMHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICAgICAgLS1yYWRpdXM6IDhweDsNCiAgICAgICAgfQ0KDQogICAgICAgICogew0KICAgICAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICAgICAgcGFkZGluZzogMDsNCiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAgICAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7DQogICAgICAgIH0NCg0KICAgICAgICBib2R5IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7DQogICAgICAgICAgICBjb2xvcjogIzMzMzsNCiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7DQogICAgICAgIH0NCg0KICAgICAgICAuY29udGFpbmVyIHsNCiAgICAgICAgICAgIG1heC13aWR0aDogMTQwMHB4Ow0KICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgICAgICAgICBwYWRkaW5nOiAyMHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgaGVhZGVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXByaW1hcnkpLCB2YXIoLS1wcmltYXJ5LWRhcmspKTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5sb2dvIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiAxNXB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmxvZ28gaSB7DQogICAgICAgICAgICBmb250LXNpemU6IDIuNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5sb2dvIGgxIHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgIH0NCg0KICAgICAgICAubG9nbyBzcGFuIHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICAgICAgb3BhY2l0eTogMC45Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmhlYWRlci1hY3Rpb25zIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDE1cHg7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuIHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgZ2FwOiA4cHg7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLXByaW1hcnkgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tcHJpbWFyeTpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2EzZDVjOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1zdWNjZXNzIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Y2Nlc3MpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1zdWNjZXNzOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyMTg4Mzg7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLWRhbmdlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYW5nZXIpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi1kYW5nZXI6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2M4MjMzMzsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4td2FybmluZyB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS13YXJuaW5nKTsNCiAgICAgICAgICAgIGNvbG9yOiAjMjEyNTI5Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmJ0bi13YXJuaW5nOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGE4MDA7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLWluZm8gew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW5mbyk7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuLWluZm86aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzEzODQ5NjsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5idG4tbGlnaHQgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsNCiAgICAgICAgfQ0KYm9keS5kYXJrIC5idG4tbGlnaHQgew0KICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNlY29uZGFyeSkgIWltcG9ydGFudDsNCiAgICBjb2xvcjogI2ZmZmZmZiAhaW1wb3J0YW50Ow0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSkgIWltcG9ydGFudDsNCn0NCg0KICAgICAgICAuYnRuLWxpZ2h0OmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktbGlnaHQpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnNlY3Rpb24tdGl0bGUgew0KICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsNCiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWxpZ2h0KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZWFyY2gtY29udGFpbmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgcGFkZGluZzogMjBweDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7DQogICAgICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZWFyY2gtYm94IHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDEwcHg7DQogICAgICAgIH0NCg0KICAgICAgICAuc2VhcmNoLWJveCBpbnB1dCB7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNXB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7DQogICAgICAgICAgICBmb250LXNpemU6IDFyZW07DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXIgMC4zczsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zZWFyY2gtYm94IGlucHV0OmZvY3VzIHsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMjU1LCAxMDcsIDUzLCAwLjEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWNvbnRhaW5lciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7DQogICAgICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3cpOw0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDQwcHg7DQogICAgICAgIH0NCg0KICAgICAgICB0YWJsZSB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQogICAgICAgIH0NCg0KICAgICAgICB0aCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zZWNvbmRhcnkpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgcGFkZGluZzogMTVweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICB9DQoNCiAgICAgICAgdGQgew0KICAgICAgICAgICAgcGFkZGluZzogMTVweDsNCiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOw0KICAgICAgICB9DQoNCiAgICAgICAgdHI6aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hY3Rpb25zIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDhweDsNCiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5hY3Rpb24tYnRuIHsNCiAgICAgICAgICAgIHdpZHRoOiAzNnB4Ow0KICAgICAgICAgICAgaGVpZ2h0OiAzNnB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzOw0KICAgICAgICB9DQoNCiAgICAgICAgLnZpZXctYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjMsIDE2MiwgMTg0LCAwLjEpOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLWluZm8pOw0KICAgICAgICB9DQoNCiAgICAgICAgLnZpZXctYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWluZm8pOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmhpc3RvcnktYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxOTMsIDcsIDAuMSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0td2FybmluZyk7DQogICAgICAgIH0NCg0KICAgICAgICAuaGlzdG9yeS1idG46aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0td2FybmluZyk7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgIH0NCg0KICAgICAgICAucHJpbnQtYnRuIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDAsIDE2NywgNjksIDAuMSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tc3VjY2Vzcyk7DQogICAgICAgIH0NCg0KICAgICAgICAucHJpbnQtYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Y2Nlc3MpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmRvd25sb2FkLWJ0biB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDEwOCwgMTE3LCAxMjUsIDAuMSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ3JheSk7DQogICAgICAgIH0NCg0KICAgICAgICAuZG93bmxvYWQtYnRuOmhvdmVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWdyYXkpOw0KICAgICAgICAgICAgY29sb3I6IHdoaXRlOw0KICAgICAgICB9DQoNCiAgICAgICAgLmRlbGV0ZS1idG4gew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMjAsIDUzLCA2OSwgMC4xKTsNCiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1kYW5nZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmRlbGV0ZS1idG46aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFuZ2VyKTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIE1vZGFsIHN0eWxlcyAqLw0KICAgICAgICAubW9kYWwgew0KICAgICAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogMDsNCiAgICAgICAgICAgIGxlZnQ6IDA7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTsNCiAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7DQogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOw0KICAgICAgICAgICAgcGFkZGluZzogMjBweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5tb2RhbC1jb250ZW50IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOw0KICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87DQogICAgICAgICAgICBtYXgtd2lkdGg6IDkwMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1sZyk7DQogICAgICAgICAgICBhbmltYXRpb246IG1vZGFsRmFkZUluIDAuM3M7DQogICAgICAgIH0NCg0KICAgICAgICBAa2V5ZnJhbWVzIG1vZGFsRmFkZUluIHsNCiAgICAgICAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTMwcHgpOyB9DQogICAgICAgICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsLWhlYWRlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1wcmltYXJ5KSwgdmFyKC0tcHJpbWFyeS1kYXJrKSk7DQogICAgICAgICAgICBjb2xvcjogd2hpdGU7DQogICAgICAgICAgICBwYWRkaW5nOiAyMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKSB2YXIoLS1yYWRpdXMpIDAgMDsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICB9DQoNCiAgICAgICAgLm1vZGFsLWhlYWRlciBoMyB7DQogICAgICAgICAgICBmb250LXNpemU6IDEuNXJlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5jbG9zZS1idG4gew0KICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS41cmVtOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgd2lkdGg6IDM2cHg7DQogICAgICAgICAgICBoZWlnaHQ6IDM2cHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjNzOw0KICAgICAgICB9DQoNCiAgICAgICAgLmNsb3NlLWJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7DQogICAgICAgIH0NCg0KICAgICAgICAubW9kYWwtYm9keSB7DQogICAgICAgICAgICBwYWRkaW5nOiAyNXB4Ow0KICAgICAgICAgICAgbWF4LWhlaWdodDogNzB2aDsNCiAgICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgICAgIH0NCg0KICAgICAgICAuZm9ybS1ncm91cCB7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmZvcm0tcm93IHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgICBnYXA6IDIwcHg7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmZvcm0tcm93IC5mb3JtLWdyb3VwIHsNCiAgICAgICAgICAgIGZsZXg6IDE7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLmZvcm0tbGFiZWwgew0KICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICAgICAgY29sb3I6IHZhcigtLXNlY29uZGFyeSk7DQogICAgICAgIH0NCg0KICAgICAgICAuZm9ybS1jb250cm9sIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgcGFkZGluZzogMTJweDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyIDAuM3M7DQogICAgICAgIH0NCg0KICAgICAgICAuZm9ybS1jb250cm9sOmZvY3VzIHsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMjU1LCAxMDcsIDUzLCAwLjEpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRleHRhcmVhLWRvdWJsZS1jbGljayB7DQogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDBweDsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjY2NjOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEycHg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsNCiAgICAgICAgfQ0KDQogICAgICAgIC50ZXh0YXJlYS1kb3VibGUtY2xpY2s6aG92ZXIgew0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxMDcsIDUzLCAwLjA1KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YWJsZS1pbnB1dCB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQogICAgICAgICAgICBtYXJnaW46IDE1cHggMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50YWJsZS1pbnB1dCB0aCwgLnRhYmxlLWlucHV0IHRkIHsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7DQogICAgICAgICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWlucHV0IHRoIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7DQogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWlucHV0IGlucHV0IHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgcGFkZGluZzogOHB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRhYmxlLWlucHV0IGlucHV0OmZvY3VzIHsNCiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLnN1YnRvdGFsLXJvdyB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50b2dnbGUtcHJpY2Ugew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50b2dnbGUtcHJpY2UgbGFiZWwgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDEwcHg7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIH0NCg0KICAgICAgICAudG9nZ2xlLXN3aXRjaCB7DQogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7DQogICAgICAgICAgICB3aWR0aDogNTBweDsNCiAgICAgICAgICAgIGhlaWdodDogMjRweDsNCiAgICAgICAgfQ0KDQogICAgICAgIC50b2dnbGUtc3dpdGNoIGlucHV0IHsNCiAgICAgICAgICAgIG9wYWNpdHk6IDA7DQogICAgICAgICAgICB3aWR0aDogMDsNCiAgICAgICAgICAgIGhlaWdodDogMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zbGlkZXIgew0KICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgICAgdG9wOiAwOw0KICAgICAgICAgICAgbGVmdDogMDsNCiAgICAgICAgICAgIHJpZ2h0OiAwOw0KICAgICAgICAgICAgYm90dG9tOiAwOw0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYzsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IC40czsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7DQogICAgICAgIH0NCg0KICAgICAgICAuc2xpZGVyOmJlZm9yZSB7DQogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICBjb250ZW50OiAiIjsNCiAgICAgICAgICAgIGhlaWdodDogMTZweDsNCiAgICAgICAgICAgIHdpZHRoOiAxNnB4Ow0KICAgICAgICAgICAgbGVmdDogNHB4Ow0KICAgICAgICAgICAgYm90dG9tOiA0cHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IC40czsNCiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlucHV0OmNoZWNrZWQgKyAuc2xpZGVyIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXI6YmVmb3JlIHsNCiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgyNnB4KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC5tb2RhbC1mb290ZXIgew0KICAgICAgICAgICAgcGFkZGluZzogMjBweDsNCiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7DQogICAgICAgICAgICBnYXA6IDE1cHg7DQogICAgICAgIH0NCg0KICAgICAgDQogICAgICAgIC5lbXB0eS1zdGF0ZSB7DQogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiA0MHB4IDIwcHg7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tZ3JheSk7DQogICAgICAgIH0NCg0KICAgICAgICAuZW1wdHktc3RhdGUgaSB7DQogICAgICAgICAgICBmb250LXNpemU6IDNyZW07DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4Ow0KICAgICAgICAgICAgY29sb3I6ICNkZGQ7DQogICAgICAgIH0NCg0KICAgICAgICAuc3RhdHVzLWJhZGdlIHsNCiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsNCiAgICAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zdGF0dXMtbmV3IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDAsIDE2NywgNjksIDAuMSk7DQogICAgICAgICAgICBjb2xvcjogdmFyKC0tc3VjY2Vzcyk7DQogICAgICAgIH0NCg0KICAgICAgICAuZ2VuZGVyLXNlbGVjdCB7DQogICAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgICAgZ2FwOiAxNXB4Ow0KICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmdlbmRlci1vcHRpb24gew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgICBnYXA6IDVweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5nZW5kZXItcmFkaW8gew0KICAgICAgICAgICAgd2lkdGg6IDE4cHg7DQogICAgICAgICAgICBoZWlnaHQ6IDE4cHg7DQogICAgICAgICAgICBhY2NlbnQtY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgICAgICB9DQoNCiAgICAgICAgLmxvYWRpbmcgew0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgICBwYWRkaW5nOiA0MHB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnNwaW5uZXIgew0KICAgICAgICAgICAgYm9yZGVyOiA0cHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpOw0KICAgICAgICAgICAgd2lkdGg6IDM2cHg7DQogICAgICAgICAgICBoZWlnaHQ6IDM2cHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgICAgICAgICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tcHJpbWFyeSk7DQogICAgICAgICAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICAgICAgfQ0KDQogICAgICAgIEBrZXlmcmFtZXMgc3BpbiB7DQogICAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9DQogICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLnRvYXN0IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogMjBweDsNCiAgICAgICAgICAgIHJpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgcGFkZGluZzogMTVweCAyMHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzKTsNCiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7DQogICAgICAgICAgICB6LWluZGV4OiAxMDAwMDsNCiAgICAgICAgICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2U7DQogICAgICAgICAgICBkaXNwbGF5OiBub25lOw0KICAgICAgICB9DQoNCiAgICAgICAgLnRvYXN0LXN1Y2Nlc3Mgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3VjY2Vzcyk7DQogICAgICAgIH0NCg0KICAgICAgICAudG9hc3QtZXJyb3Igew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFuZ2VyKTsNCiAgICAgICAgfQ0KDQogICAgICAgIEBrZXlmcmFtZXMgc2xpZGVJbiB7DQogICAgICAgICAgICBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOyBvcGFjaXR5OiAwOyB9DQogICAgICAgICAgICB0byB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgb3BhY2l0eTogMTsgfQ0KICAgICAgICB9DQoudGV4dGFyZWEtd2l0aC1leHBhbmQgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCg0KLmV4cGFuZC1idG4gew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBib3R0b206IDEwcHg7DQogICAgcmlnaHQ6IDEwcHg7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDEwNywgNTMsIDAuMSk7DQogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgIHdpZHRoOiAzMnB4Ow0KICAgIGhlaWdodDogMzJweDsNCiAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsNCiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWxpZ2h0KTsNCiAgICB6LWluZGV4OiAxMDsNCn0NCg0KLmV4cGFuZC1idG46aG92ZXIgew0KICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxMDcsIDUzLCAwLjIpOw0KICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTsNCn0NCg0KLmV4cGFuZC1idG4gaSB7DQogICAgZm9udC1zaXplOiAwLjlyZW07DQp9DQoNCiNkaWFnbm9zaXMgew0KICAgIG1pbi1oZWlnaHQ6IDEyMHB4Ow0KICAgIHJlc2l6ZTogdmVydGljYWw7DQogICAgcGFkZGluZy1yaWdodDogNDVweDsgLyogxJDhu4Mga2jDtG5nIGLhu4sgY2jhu68gY2hlIG7DunQgZXhwYW5kICovDQp9DQoNCi8qIFRow6ptIGNobyBwaOG6p24gdGjhu6cgdGh14bqtdCB2w6AgdGh14buRYyB24bqrbiBnaeG7ryBjbGljayDEkcO6cCAqLw0KLnRleHRhcmVhLWRvdWJsZS1jbGljayB7DQogICAgbWluLWhlaWdodDogNjBweDsNCiAgICBib3JkZXI6IDFweCBkYXNoZWQgI2NjYzsNCiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpOw0KICAgIHBhZGRpbmc6IDEycHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDEwcHg7DQp9DQoNCi50ZXh0YXJlYS1kb3VibGUtY2xpY2s6aG92ZXIgew0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDEwNywgNTMsIDAuMDUpOw0KfQ0KDQoudGV4dGFyZWEtZG91YmxlLWNsaWNrIGkgew0KICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsNCn0NCiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7DQogICAgICAgICAgICAuZm9ybS1yb3cgew0KICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgICAgICAgICAgZ2FwOiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAuYWN0aW9ucyB7DQogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLmhlYWRlci1hY3Rpb25zIHsNCiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGhlYWRlciB7DQogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLnNlYXJjaC1ib3ggew0KICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCgkJLmFwcC1mb290ZXIgew0KICAgIG1hcmdpbi10b3A6IDQwcHg7DQogICAgcGFkZGluZzogMTVweCAxMHB4Ow0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICBjb2xvcjogIzZjNzU3ZDsNCiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOw0KICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOw0KfQ0KYm9keS5kYXJrIC5hcHAtZm9vdGVyIHsNCiBtYXJnaW4tdG9wOiA0MHB4Ow0KICAgIHBhZGRpbmc6IDE1cHggMTBweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgZm9udC1zaXplOiAwLjlyZW07DQogICAgY29sb3I6ICM2Yzc1N2Q7DQogICAgYmFja2dyb3VuZDogIzAwMDAwMDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsNCn0NCi5hcHAtZm9vdGVyIHN0cm9uZyB7DQogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOw0KfQ0KLnRoZW1lLXRvb2xiYXIgew0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBnYXA6IDEwcHg7DQogICAgYmFja2dyb3VuZDogI2Y1ZjVmNTsNCiAgICBwYWRkaW5nOiA2cHggMTBweDsNCiAgICBib3JkZXItcmFkaXVzOiA4cHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsNCn0NCg0KLnRoZW1lLWRvdCB7DQogICAgd2lkdGg6IDE0cHg7DQogICAgaGVpZ2h0OiAxNHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIG91dGxpbmU6IDJweCBzb2xpZCB0cmFuc3BhcmVudDsNCn0NCg0KLnRoZW1lLWRvdDpob3ZlciB7DQogICAgb3V0bGluZTogMnB4IHNvbGlkICMwMDAwMDAzMDsNCn0NCg0KLnRoZW1lLWJsdWUgeyBiYWNrZ3JvdW5kOiAjMGQ2ZWZkOyB9DQoudGhlbWUtcmVkIHsgYmFja2dyb3VuZDogI2RjMzU0NTsgfQ0KLnRoZW1lLWdyZWVuIHsgYmFja2dyb3VuZDogIzE5ODc1NDsgfQ0KLnRoZW1lLW9yYW5nZSB7IGJhY2tncm91bmQ6ICNGRjZCMzU7IH0NCg0KLnRoZW1lLWRhcmstdG9nZ2xlIHsNCiAgICBtYXJnaW4tbGVmdDogMTBweDsNCiAgICBwYWRkaW5nOiA0cHggMTBweDsNCiAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsNCiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgZm9udC1zaXplOiAxM3B4Ow0KfQ0KYm9keS5kYXJrIC50aGVtZS1kYXJrLXRvZ2dsZSB7DQogICAgbWFyZ2luLWxlZnQ6IDEwcHg7DQogICAgcGFkZGluZzogNHB4IDEwcHg7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7DQogICAgYmFja2dyb3VuZDogIzAwMDAwMDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgZm9udC1zaXplOiAxM3B4Ow0KfQ0KLyogPT09PT0gREFSSyBNT0RFID09PT09ICovDQpib2R5LmRhcmsgew0KICAgIGJhY2tncm91bmQ6ICMxMjEyMTI7DQogICAgY29sb3I6ICNlMGUwZTA7DQp9DQoNCmJvZHkuZGFyayAudGFibGUtY29udGFpbmVyLA0KYm9keS5kYXJrIC5zZWFyY2gtY29udGFpbmVyLA0KYm9keS5kYXJrIC5tb2RhbC1jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kOiAjMWUxZTFlOw0KfQ0KDQpib2R5LmRhcmsgdGggew0KICAgIGJhY2tncm91bmQ6ICMyYzJjMmM7DQp9DQoNCmJvZHkuZGFyayAudGhlbWUtdG9vbGJhciB7DQogICAgYmFja2dyb3VuZDogIzFmMWYxZjsNCiAgICBib3JkZXItY29sb3I6ICMzMzM7DQp9DQovKiA9PT09PT09PT09PT09PT09PT09PT09PQ0KICAgREFSSyBNT0RFIOKAkyBGT1JDRSBTVFlMRQ0KICAgPT09PT09PT09PT09PT09PT09PT09PT0gKi8NCg0KYm9keS5kYXJrLA0KYm9keS5kYXJrICogew0KICAgIGNvbG9yOiAjZmZmZmZmICFpbXBvcnRhbnQ7DQp9DQoNCi8qIElucHV0LCB0ZXh0YXJlYSwgc2VsZWN0ICovDQpib2R5LmRhcmsgaW5wdXQsDQpib2R5LmRhcmsgdGV4dGFyZWEsDQpib2R5LmRhcmsgc2VsZWN0IHsNCiAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwICFpbXBvcnRhbnQ7DQogICAgY29sb3I6ICNmZmZmZmYgIWltcG9ydGFudDsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjNTU1ICFpbXBvcnRhbnQ7DQp9DQoNCi8qIFBsYWNlaG9sZGVyICovDQpib2R5LmRhcmsgaW5wdXQ6OnBsYWNlaG9sZGVyLA0KYm9keS5kYXJrIHRleHRhcmVhOjpwbGFjZWhvbGRlciB7DQogICAgY29sb3I6ICNiYmJiYmIgIWltcG9ydGFudDsNCn0NCg0KLyogQnV0dG9uICovDQpib2R5LmRhcmsgYnV0dG9uIHsNCiAgICBjb2xvcjogI2ZmZmZmZiAhaW1wb3J0YW50Ow0KfQ0KDQovKiBUYWJsZSAqLw0KYm9keS5kYXJrIHRhYmxlIHsNCiAgICBiYWNrZ3JvdW5kOiAjMWIxYjFiICFpbXBvcnRhbnQ7DQp9DQoNCmJvZHkuZGFyayB0aCB7DQogICAgYmFja2dyb3VuZDogIzJhMmEyYSAhaW1wb3J0YW50Ow0KfQ0KDQpib2R5LmRhcmsgdGQgew0KICAgIGJhY2tncm91bmQ6ICMxZTFlMWUgIWltcG9ydGFudDsNCn0NCg0KLyogQ2hlY2tib3gsIHJhZGlvICovDQpib2R5LmRhcmsgaW5wdXRbdHlwZT0iY2hlY2tib3giXSwNCmJvZHkuZGFyayBpbnB1dFt0eXBlPSJyYWRpbyJdIHsNCiAgICBhY2NlbnQtY29sb3I6IHZhcigtLXByaW1hcnkpOw0KfQ0KDQovKiBNb2RhbCAqLw0KYm9keS5kYXJrIC5tb2RhbC1jb250ZW50IHsNCiAgICBiYWNrZ3JvdW5kOiAjMWExYTFhICFpbXBvcnRhbnQ7DQp9DQoNCi8qIERyb3Bkb3duIC8gb3B0aW9uICovDQpib2R5LmRhcmsgb3B0aW9uIHsNCiAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwOw0KICAgIGNvbG9yOiAjZmZmZmZmOw0KfQ0KDQovKiBEaXNhYmxlZCAqLw0KYm9keS5kYXJrIGlucHV0OmRpc2FibGVkLA0KYm9keS5kYXJrIHRleHRhcmVhOmRpc2FibGVkIHsNCiAgICBiYWNrZ3JvdW5kOiAjMTExICFpbXBvcnRhbnQ7DQogICAgY29sb3I6ICM3NzcgIWltcG9ydGFudDsNCn0NCi8qIENTUyBjaG8gw7QgY2xpY2sgxJHDunAgdHJvbmcgbW9kYWwgZGnhu4VuIGJp4bq/biAqLw0KLnByb2dyZXNzLXRleHRhcmVhIHsNCiAgICBtaW4taGVpZ2h0OiA2MHB4Ow0KICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjY2NjOw0KICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cyk7DQogICAgcGFkZGluZzogMTJweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICBiYWNrZ3JvdW5kOiAjZjlmOWY5Ow0KICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQp9DQoNCi5wcm9ncmVzcy10ZXh0YXJlYTpob3ZlciB7DQogICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMTA3LCA1MywgMC4wNSk7DQp9DQoNCi5wcm9ncmVzcy10ZXh0YXJlYSBpIHsNCiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7DQogICAgZm9udC1zaXplOiAwLjlyZW07DQp9DQoNCi5wcm9ncmVzcy1zdW1tYXJ5IHsNCiAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICBjb2xvcjogdmFyKC0tZ3JheSk7DQogICAgbWFyZ2luLXRvcDogNXB4Ow0KICAgIG1heC1oZWlnaHQ6IDEwMHB4Ow0KICAgIG92ZXJmbG93LXk6IGF1dG87DQogICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOw0KICAgIHBhZGRpbmc6IDhweDsNCiAgICBiYWNrZ3JvdW5kOiAjZjFmMWYxOw0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCn0NCi5wcm9ncmVzcy10ZXh0YXJlYS1pbnB1dCB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgbWluLWhlaWdodDogNzBweDsNCiAgICByZXNpemU6IHZlcnRpY2FsOw0KICAgIHBhZGRpbmc6IDhweDsNCiAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsNCiAgICBmb250LXNpemU6IDE0cHg7DQp9DQoNCi5wcm9ncmVzcy10ZXh0YXJlYS1pbnB1dDpmb2N1cyB7DQogICAgb3V0bGluZTogbm9uZTsNCiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCByZ2JhKDI1NSwxMDcsNTMsMC4xNSk7DQp9DQovKiBMT0dJTiBPVkVSTEFZICovDQojbG9naW5PdmVybGF5IHsNCiAgICBwb3NpdGlvbjogZml4ZWQ7DQogICAgaW5zZXQ6IDA7DQogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZmZmZmZiwgI2YxZjNmNSk7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIHotaW5kZXg6IDk5OTk5Ow0KfQ0KDQoubG9naW4tYm94IHsNCiAgICB3aWR0aDogMzYwcHg7DQogICAgcGFkZGluZzogMzVweDsNCiAgICBib3JkZXItcmFkaXVzOiAxOHB4Ow0KICAgIGJhY2tncm91bmQ6I2ZmNmIzNTsNCiAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTVweCk7DQogICAgYm94LXNoYWRvdzogMCAyNXB4IDYwcHggcmdiYSgwLDAsMCwwLjI1KTsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgY29sb3I6ICNmZmY7DQp9DQoNCi5sb2dpbi1ib3ggaDIgew0KICAgIGZvbnQtc2l6ZTogMjZweDsNCiAgICBtYXJnaW4tYm90dG9tOiA1cHg7DQp9DQoNCi5sb2dpbi1ib3ggcCB7DQogICAgb3BhY2l0eTogMC45Ow0KICAgIG1hcmdpbi1ib3R0b206IDI1cHg7DQp9DQoNCi5sb2dpbi1ib3ggaW5wdXQgew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIHBhZGRpbmc6IDEycHg7DQogICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgIGJvcmRlcjogbm9uZTsNCiAgICBvdXRsaW5lOiBub25lOw0KICAgIGZvbnQtc2l6ZTogMTVweDsNCn0NCg0KLmxvZ2luLWJveCBidXR0b24gew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIHBhZGRpbmc6IDEycHg7DQogICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICBib3JkZXI6IG5vbmU7DQogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsNCiAgICBjb2xvcjogI2ZmNmIzNTsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBmb250LXNpemU6IDE2cHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIHRyYW5zaXRpb246IDAuM3M7DQp9DQoNCi5sb2dpbi1ib3ggYnV0dG9uOmhvdmVyIHsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7DQogICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLDAsMCwwLjIpOw0KfQ0KDQojbG9naW5FcnJvciB7DQogICAgbWFyZ2luLXRvcDogMTJweDsNCiAgICBjb2xvcjogI2ZmZGRkZDsNCiAgICBmb250LXNpemU6IDE0cHg7DQp9DQouZG93bmxvYWQtbG9hZGluZyB7DQogICAgcG9zaXRpb246IGZpeGVkOw0KICAgIHRvcDogMDsNCiAgICBsZWZ0OiAwOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNSk7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIHotaW5kZXg6IDEwMDAwOw0KICAgIGNvbG9yOiB3aGl0ZTsNCiAgICBmb250LXNpemU6IDEuMnJlbTsNCn0NCi8qIENTUyBjaG8gbW9kYWwgeHXhuqV0IGhp4buHbiDEkeG6oWkgKi8NCi5leHBvcnQtdGFicyB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOw0KICAgIHBhZGRpbmc6IDRweDsNCiAgICBib3JkZXItcmFkaXVzOiAxMnB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDI1cHg7DQp9DQoNCi5leHBvcnQtdGFiIHsNCiAgICBmbGV4OiAxOw0KICAgIHBhZGRpbmc6IDEwcHg7DQogICAgYm9yZGVyOiBub25lOw0KICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50Ow0KICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICBjb2xvcjogdmFyKC0tZ3JheSk7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIGdhcDogOHB4Ow0KICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7DQp9DQoNCi5leHBvcnQtdGFiLmFjdGl2ZSB7DQogICAgYmFja2dyb3VuZDogd2hpdGU7DQogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7DQp9DQoNCi5leHBvcnQtY29udGVudCB7DQogICAgZGlzcGxheTogbm9uZTsNCn0NCg0KLmV4cG9ydC1jb250ZW50LmFjdGl2ZSB7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zcyBlYXNlOw0KfQ0KDQoub3B0aW9uLWdyaWQgew0KICAgIGRpc3BsYXk6IGdyaWQ7DQogICAgZ2FwOiAxMnB4Ow0KfQ0KDQouZXhwb3J0LW9wdGlvbiB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIHBhZGRpbmc6IDE2cHg7DQogICAgYmFja2dyb3VuZDogd2hpdGU7DQogICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDsNCiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLDAsMCwwLjA4KTsNCiAgICBnYXA6IDE1cHg7DQp9DQoNCi5leHBvcnQtb3B0aW9uOmhvdmVyIHsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7DQogICAgYm94LXNoYWRvdzogMCA2cHggMjBweCByZ2JhKDAsMCwwLDAuMTIpOw0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7DQp9DQoNCi5leHBvcnQtb3B0aW9uLnByaW50LW9wdGlvbiB7DQogICAgY29sb3I6IHdoaXRlOw0KICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXByaW1hcnkpLCB2YXIoLS1wcmltYXJ5LWRhcmspKTsNCn0NCg0KLmV4cG9ydC1vcHRpb24ucHJpbnQtb3B0aW9uIC5vcHRpb24taWNvbiB7DQogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOw0KfQ0KDQouZXhwb3J0LW9wdGlvbi5wcmludC1vcHRpb24gLm9wdGlvbi1hcnJvdyB7DQogICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTsNCn0NCg0KLm9wdGlvbi1pY29uIHsNCiAgICB3aWR0aDogNDRweDsNCiAgICBoZWlnaHQ6IDQ0cHg7DQogICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5LWxpZ2h0KTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgZm9udC1zaXplOiAxLjJyZW07DQogICAgY29sb3I6IHdoaXRlOw0KICAgIGZsZXgtc2hyaW5rOiAwOw0KfQ0KDQoub3B0aW9uLWNvbnRlbnQgew0KICAgIGZsZXg6IDE7DQp9DQoNCi5vcHRpb24tdGl0bGUgew0KICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgZm9udC1zaXplOiAxLjA1cmVtOw0KICAgIG1hcmdpbi1ib3R0b206IDRweDsNCn0NCg0KLm9wdGlvbi1kZXNjIHsNCiAgICBmb250LXNpemU6IDAuODVyZW07DQogICAgb3BhY2l0eTogMC44Ow0KfQ0KDQoub3B0aW9uLWFycm93IHsNCiAgICBmb250LXNpemU6IDAuOXJlbTsNCiAgICBjb2xvcjogdmFyKC0tZ3JheSk7DQogICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTsNCn0NCg0KLmV4cG9ydC1vcHRpb246aG92ZXIgLm9wdGlvbi1hcnJvdyB7DQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDNweCk7DQogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOw0KfQ0KDQoNCg0KLmZvcm1hdC1idG4gew0KICAgIGZsZXg6IDE7DQogICAgcGFkZGluZzogMTBweDsNCiAgICBib3JkZXI6IDJweCBzb2xpZCAjZTBlMGUwOw0KICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgYmFja2dyb3VuZDogd2hpdGU7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgY29sb3I6IHZhcigtLWdyYXkpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBnYXA6IDhweDsNCiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOw0KfQ0KDQouZm9ybWF0LWJ0bi5hY3RpdmUgew0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7DQogICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7DQogICAgY29sb3I6IHdoaXRlOw0KfQ0KDQouZm9ybWF0LWJ0bjpob3Zlcjpub3QoLmFjdGl2ZSkgew0KICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7DQogICAgYmFja2dyb3VuZDogI2Y5ZjlmOTsNCn0NCg0KQGtleWZyYW1lcyBmYWRlSW4gew0KICAgIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTBweCk7IH0NCiAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQ0KfQ0KDQovKiBEYXJrIG1vZGUgc3VwcG9ydCAqLw0KYm9keS5kYXJrIC5leHBvcnQtdGFicyB7DQogICAgYmFja2dyb3VuZDogIzJhMmEyYTsNCn0NCg0KYm9keS5kYXJrIC5leHBvcnQtdGFiIHsNCiAgICBjb2xvcjogI2FhYTsNCn0NCg0KYm9keS5kYXJrIC5leHBvcnQtdGFiLmFjdGl2ZSB7DQogICAgYmFja2dyb3VuZDogIzMzMzsNCiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7DQp9DQoNCmJvZHkuZGFyayAuZXhwb3J0LW9wdGlvbjpub3QoLnByaW50LW9wdGlvbikgew0KICAgIGJhY2tncm91bmQ6ICMzMzM7DQogICAgYm9yZGVyLWNvbG9yOiAjNDQ0Ow0KfQ0KDQpib2R5LmRhcmsgLmZvcm1hdC1idG4gew0KICAgIGJhY2tncm91bmQ6ICMzMzM7DQogICAgYm9yZGVyLWNvbG9yOiAjNDQ0Ow0KICAgIGNvbG9yOiAjYWFhOw0KfQ0KDQpib2R5LmRhcmsgLmZvcm1hdC1idG4uYWN0aXZlIHsNCiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTsNCiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOw0KICAgIGNvbG9yOiB3aGl0ZTsNCn0NCjxzdHlsZT4NCi5wZGYtcHJldmlldy13cmFwcGVyIHsNCiAgICBiYWNrZ3JvdW5kOiAjODg4Ow0KICAgIHBhZGRpbmc6IDMwcHg7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBtYXgtaGVpZ2h0OiA4MHZoOw0KfQ0KDQoucGRmLXBhZ2Ugew0KICAgIHdpZHRoOiAyMTBtbTsNCiAgICBtaW4taGVpZ2h0OiAyOTdtbTsNCiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsNCiAgICBtYXJnaW46IDAgYXV0byAyMHB4IGF1dG87DQogICAgcGFkZGluZzogMjBtbTsNCiAgICBib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDAsMCwwLDAuNCk7DQogICAgZm9udC1mYW1pbHk6ICJUaW1lcyBOZXcgUm9tYW4iOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCn0NCg0KLnBkZi10b29sYmFyIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQo8L3N0eWxlPg0KDQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KDQo8IS0tIExPR0lOIE9WRVJMQVkgLS0+DQo8ZGl2IGlkPSJsb2dpbk92ZXJsYXkiPg0KICAgIDxkaXYgY2xhc3M9ImxvZ2luLWJveCI+DQogICAgICAgIDxoMj5C4buGTkggw4FOIMSQSeG7hk4gVOG7rDwvaDI+DQogICAgICAgIDxwPsSQxINuZyBuaOG6rXAgxJHhu4MgdGnhur9wIHThu6VjPC9wPg0KDQogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibG9naW5Vc2VybmFtZSIgcGxhY2Vob2xkZXI9IlTDqm4gxJHEg25nIG5o4bqtcCI+DQogICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9ImxvZ2luUGFzc3dvcmQiIHBsYWNlaG9sZGVyPSJN4bqtdCBraOG6qXUiPg0KDQogICAgICAgIDxidXR0b24gb25jbGljaz0iaGFuZGxlTG9naW4oKSI+xJDEg25nIG5o4bqtcDwvYnV0dG9uPg0KDQogICAgICAgIDxkaXYgaWQ9ImxvZ2luRXJyb3IiPjwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQogICAgPCEtLSBUb2FzdCB0aMO0bmcgYsOhbyAtLT4NCiAgICA8ZGl2IGlkPSJ0b2FzdCIgY2xhc3M9InRvYXN0Ij48L2Rpdj4NCg0KICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+DQogICAgICAgIDxoZWFkZXI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJsb2dvIj4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWZpbGUtbWVkaWNhbC1hbHQiPjwvaT4NCiAgICAgICAgICAgICAgICA8ZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8aDE+QuG7h25oIMOBbiDEkGnhu4duIFThu608L2gxPg0KICAgICAgICAgICAgICAgICANCgkJCQkJCQk8ZGl2IGNsYXNzPSJ0aGVtZS10b29sYmFyIj4NCiAgICA8YnV0dG9uIGNsYXNzPSJ0aGVtZS1kb3QgdGhlbWUtYmx1ZSIgZGF0YS1jb2xvcj0iIzBkNmVmZCI+PC9idXR0b24+DQogICAgPGJ1dHRvbiBjbGFzcz0idGhlbWUtZG90IHRoZW1lLXJlZCIgZGF0YS1jb2xvcj0iI2RjMzU0NSI+PC9idXR0b24+DQogICAgPGJ1dHRvbiBjbGFzcz0idGhlbWUtZG90IHRoZW1lLWdyZWVuIiBkYXRhLWNvbG9yPSIjMTk4NzU0Ij48L2J1dHRvbj4NCiAgICA8YnV0dG9uIGNsYXNzPSJ0aGVtZS1kb3QgdGhlbWUtb3JhbmdlIiBkYXRhLWNvbG9yPSIjRkY2QjM1Ij48L2J1dHRvbj4NCg0KICAgIDxidXR0b24gY2xhc3M9InRoZW1lLWRhcmstdG9nZ2xlIiBpZD0iZGFya01vZGVUb2dnbGUiIHRpdGxlPSJTw6FuZyAvIFThu5FpIj4NCiAgICAgICAg8J+MmSBU4buRaQ0KICAgIDwvYnV0dG9uPg0KPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1hY3Rpb25zIj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJuZXdSZWNvcmRCdG4iPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMtY2lyY2xlIj48L2k+IE5o4bqtcCBi4buHbmggw6FuIG3hu5tpDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCgk8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0ibG9nb3V0KCkiPg0KICAgIDxpIGNsYXNzPSJmYXMgZmEtc2lnbi1vdXQtYWx0Ij48L2k+IMSQxINuZyB4deG6pXQNCjwvYnV0dG9uPg0KDQoNCiAgICAgICAgPC9oZWFkZXI+DQoNCiAgICAgICAgPG1haW4+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZWFyY2gtY29udGFpbmVyIj4NCiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InNlY3Rpb24tdGl0bGUiPlTDrG0ga2nhur9tIGLhu4duaCDDoW48L2gyPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlYXJjaC1ib3giPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InNlYXJjaElucHV0IiBwbGFjZWhvbGRlcj0iVMOsbSB0aGVvIHTDqm4sIGNo4bqpbiDEkW/DoW4sIG5nw6B5IGtow6FtLCBtw6MgYuG7h25oIG5ow6JuLi4uIj4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0ic2VhcmNoQnRuIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2VhcmNoIj48L2k+IFTDrG0ga2nhur9tDQogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWxpZ2h0IiBpZD0icmVzZXRTZWFyY2hCdG4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1yZWRvIj48L2k+IEzDoG0gbeG7m2kNCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4NCiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InNlY3Rpb24tdGl0bGUiPkRhbmggc8OhY2ggYuG7h25oIMOhbjwvaDI+DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgPHRhYmxlIGlkPSJyZWNvcmRzVGFibGUiPg0KICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlNUVDwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPk3DoyBi4buHbmggbmjDom48L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5Uw6puIGLhu4duaCBuaMOibjwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlR14buVaTwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPk5nw6B5IGtow6FtPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+Q2jhuqluIMSRb8OhbjwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlRoYW8gdMOhYzwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPg0KICAgICAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9InJlY29yZHNUYWJsZUJvZHkiPg0KCQkJCQkNCiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gROG7ryBsaeG7h3Ugc+G6vSDEkcaw4bujYyB0aMOqbSBi4bqxbmcgSmF2YVNjcmlwdCAtLT4NCiAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4NCiAgICAgICAgICAgICAgICA8L3RhYmxlPg0KCQkJCTxkaXYgaWQ9ImxvYWRpbmdTdGF0ZSIgY2xhc3M9ImxvYWRpbmciIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNwaW5uZXIiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8cD7EkGFuZyB04bqjaSBk4buvIGxp4buHdSBi4buHbmggw6FuLi4uPC9wPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImVtcHR5U3RhdGUiIGNsYXNzPSJlbXB0eS1zdGF0ZSI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2xpcGJvYXJkLWxpc3QiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgPGgzPkNoxrBhIGPDsyBi4buHbmggw6FuIG7DoG88L2gzPg0KICAgICAgICAgICAgICAgICAgICA8cD5OaOG6pW4gbsO6dCAiTmjhuq1wIGLhu4duaCDDoW4gbeG7m2kiIMSR4buDIGLhuq90IMSR4bqndTwvcD4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L21haW4+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tIE1vZGFsIHRow6ptL3Phu61hIGLhu4duaCDDoW4gLS0+DQogICAgPGRpdiBpZD0icmVjb3JkTW9kYWwiIGNsYXNzPSJtb2RhbCI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDMgaWQ9Im1vZGFsVGl0bGUiPlRow6ptIGLhu4duaCDDoW4gbeG7m2k8L2gzPg0KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNsb3NlLWJ0biIgaWQ9ImNsb3NlTW9kYWxCdG4iPiZ0aW1lczs8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+DQogICAgICAgICAgICAgICAgPGZvcm0gaWQ9InJlY29yZEZvcm0iPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGZvcj0icGF0aWVudE5hbWUiPkjhu40gdMOqbiAqPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InBhdGllbnROYW1lIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj5HaeG7m2kgdMOtbmggKjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZ2VuZGVyLXNlbGVjdCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZ2VuZGVyLW9wdGlvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImdlbmRlciIgdmFsdWU9Ik5hbSIgY2xhc3M9ImdlbmRlci1yYWRpbyIgY2hlY2tlZD4gTmFtDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZ2VuZGVyLW9wdGlvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImdlbmRlciIgdmFsdWU9Ik7hu68iIGNsYXNzPSJnZW5kZXItcmFkaW8iPiBO4buvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZ2VuZGVyLW9wdGlvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImdlbmRlciIgdmFsdWU9Iktow6FjIiBjbGFzcz0iZ2VuZGVyLXJhZGlvIj4gS2jDoWMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGZvcj0icGF0aWVudEFnZSI+VHXhu5VpICo8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwYXRpZW50QWdlIiBjbGFzcz0iZm9ybS1jb250cm9sIiBtaW49IjAiIG1heD0iMTUwIiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBmb3I9InBhdGllbnRBZGRyZXNzIj7EkOG7i2EgY2jhu4k8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icGF0aWVudEFkZHJlc3MiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KDQogICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+DQogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZm9yPSJwYXRpZW50Q29kZSI+TcOjIGLhu4duaCBuaMOibiAqPC9sYWJlbD4NCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwYXRpZW50Q29kZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZm9yPSJwcmltYXJ5RGlhZ25vc2lzIj5DaOG6qW4gxJFvw6FuIGNow61uaCAqPC9sYWJlbD4NCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcmltYXJ5RGlhZ25vc2lzIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4NCiAgICA8L2Rpdj4NCjwvZGl2Pg0KDQo8ZGl2IGNsYXNzPSJmb3JtLXJvdyI+DQogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZm9yPSJleGFtaW5hdGlvbkRhdGUiPk5nw6B5IGtow6FtICo8L2xhYmVsPg0KICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9ImV4YW1pbmF0aW9uRGF0ZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZm9yPSJleGFtaW5hdGlvblRpbWUiPkdp4budIGtow6FtICo8L2xhYmVsPg0KICAgICAgICA8aW5wdXQgdHlwZT0idGltZSIgaWQ9ImV4YW1pbmF0aW9uVGltZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+DQogICAgPC9kaXY+DQo8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZm9yPSJkaWFnbm9zaXMiPk7hu5lpIGR1bmcgYuG7h25oIMOhbjwvbGFiZWw+DQogICAgPGRpdiBjbGFzcz0idGV4dGFyZWEtd2l0aC1leHBhbmQiPg0KICAgICAgICA8dGV4dGFyZWEgaWQ9ImRpYWdub3NpcyIgY2xhc3M9ImZvcm0tY29udHJvbCIgcm93cz0iNCIgcGxhY2Vob2xkZXI9Ik5o4bqtcCBu4buZaSBkdW5nIGLhu4duaCDDoW4gdOG6oWkgxJHDonkuLi4iPjwvdGV4dGFyZWE+DQogICAgICAgIDxkaXYgY2xhc3M9ImV4cGFuZC1idG4iIGlkPSJleHBhbmREaWFnbm9zaXNCdG4iIHRpdGxlPSJN4bufIHLhu5luZyDEkeG7gyBuaOG6rXAgbmhp4buBdSBoxqFuIj4NCiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhwYW5kLWFsdCI+PC9pPg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjwvZGl2Pg0KDQogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPlRo4bunIHRodeG6rXQ8L2xhYmVsPg0KICAgIDxkaXYgY2xhc3M9InRleHRhcmVhLWRvdWJsZS1jbGljayIgaWQ9InByb2NlZHVyZVRleHQiIGRhdGEtdGFyZ2V0PSJwcm9jZWR1cmVNb2RhbCI+DQogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhwYW5kLWFsdCI+PC9pPiBOaOG6pW4gxJHhu4MgdGjDqm0gdGjhu6cgdGh14bqtdA0KICAgIDwvZGl2Pg0KICAgIDxkaXYgaWQ9InByb2NlZHVyZVN1bW1hcnkiPjwvZGl2Pg0KPC9kaXY+DQoNCjxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+VGh14buRYzwvbGFiZWw+DQogICAgPGRpdiBjbGFzcz0idGV4dGFyZWEtZG91YmxlLWNsaWNrIiBpZD0ibWVkaWNpbmVUZXh0IiBkYXRhLXRhcmdldD0ibWVkaWNpbmVNb2RhbCI+DQogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhwYW5kLWFsdCI+PC9pPiBOaOG6pW4gxJHhu4MgdGjDqm0gdGh14buRYw0KICAgIDwvZGl2Pg0KICAgIDxkaXYgaWQ9Im1lZGljaW5lU3VtbWFyeSI+PC9kaXY+DQo8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZm9yPSJmb2xsb3dVcERhdGUiPkjhurluIG5nw6B5IHTDoWkga2jDoW08L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJmb2xsb3dVcERhdGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibG9hZGluZyIgaWQ9InNhdmVMb2FkaW5nIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzcGlubmVyIj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPHA+xJBhbmcgbMawdS4uLjwvcD4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWxpZ2h0IiBpZD0iY2FuY2VsQnRuIj5I4buneTwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InNhdmVSZWNvcmRCdG4iPkzGsHUgYuG7h25oIMOhbjwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBNb2RhbCBuaOG6rXAgbuG7mWkgZHVuZyBi4buHbmggw6FuIC0tPg0KICAgIDxkaXYgaWQ9ImRpYWdub3Npc01vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA5MDBweDsiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDM+Tmjhuq1wIG7hu5lpIGR1bmcgYuG7h25oIMOhbjwvaDM+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UtYnRuIGNsb3NlLWRpYWdub3Npcy1tb2RhbCI+JnRpbWVzOzwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj5O4buZaSBkdW5nIGNoaSB0aeG6v3Q8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImRpYWdub3Npc0RldGFpbCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcm93cz0iMTIiIHBsYWNlaG9sZGVyPSJOaOG6rXAgbuG7mWkgZHVuZyBi4buHbmggw6FuIGNoaSB0aeG6v3QuLi4iPjwvdGV4dGFyZWE+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1saWdodCBjbG9zZS1kaWFnbm9zaXMtbW9kYWwiPkjhu6d5PC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0ic2F2ZURpYWdub3Npc0J0biI+TMawdSBu4buZaSBkdW5nPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tIE1vZGFsIG5o4bqtcCB0aOG7pyB0aHXhuq10IC0tPg0KICAgIDxkaXYgaWQ9InByb2NlZHVyZU1vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA4MDBweDsiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDM+Tmjhuq1wIHRo4bunIHRodeG6rXQ8L2gzPg0KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImNsb3NlLWJ0biBjbG9zZS1wcm9jZWR1cmUtbW9kYWwiPiZ0aW1lczs8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idG9nZ2xlLXByaWNlIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idG9nZ2xlLXN3aXRjaCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlUHJvY2VkdXJlUHJpY2UiY2hlY2tlZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2xpZGVyIj48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkhp4buDbiB0aOG7iyBj4buZdCBnacOhIHRp4buBbjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9InRhYmxlLWlucHV0IiBpZD0icHJvY2VkdXJlVGFibGUiPg0KICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlNUVDwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlTDqm4gdGjhu6cgdGh14bqtdDwvdGg+IA0KCQkJCQkJCTx0aD5HaGkgY2jDujwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlPhu5EgbOG6p248L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0icHJpY2UtY29sdW1uIj5HacOhIHRp4buBbjwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPljDs2E8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgPHRib2R5IGlkPSJwcm9jZWR1cmVUYWJsZUJvZHkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4xPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJwcm9jZWR1cmUtbmFtZSIgcGxhY2Vob2xkZXI9Ik5o4bqtcCB0w6puIHRo4bunIHRodeG6rXQiPjwvdGQ+DQoJCQkJCQkJPHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0icHJvY2VkdXJlLW5vdGUiIHBsYWNlaG9sZGVyPSJHaGkgY2jDuiI+PC90ZD4gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9InByb2NlZHVyZS1xdWFudGl0eSIgcGxhY2Vob2xkZXI9IlPhu5EgbOG6p24iIG1pbj0iMSIgdmFsdWU9IjEiPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InByaWNlLWNvbHVtbiI+PGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9InByb2NlZHVyZS1wcmljZSIgcGxhY2Vob2xkZXI9Ikdpw6EgdGnhu4FuIiBtaW49IjAiPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIHJlbW92ZS1yb3ciPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgICAgICAgICAgPHRmb290Pg0KICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9InN1YnRvdGFsLXJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iMyI+VOG7lW5nIGPhu5luZzwvdGQ+IDwhLS0gxJDhu5VpIHThu6sgY29sc3Bhbj0iMiIgdGjDoG5oICIzIiAtLT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBpZD0icHJvY2VkdXJlVG90YWxRdWFudGl0eSI+MDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InByaWNlLWNvbHVtbiIgaWQ9InByb2NlZHVyZVRvdGFsUHJpY2UiPjA8L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgIDx0ciBpZD0icHJvY2VkdXJlVG90YWxSb3ciIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iNCI+VOG7lW5nIGdpw6EgdGnhu4FuPC90ZD4gPCEtLSDEkOG7lWkgdOG7qyBjb2xzcGFuPSIzIiB0aMOgbmggIjQiIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJwcm9jZWR1cmVUb3RhbEFtb3VudCIgcGxhY2Vob2xkZXI9Ik5o4bqtcCB04buVbmcgZ2nDoSB0aeG7gW4iIG1pbj0iMCI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwvdGZvb3Q+DQogICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYWRkUHJvY2VkdXJlUm93Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4gVGjDqm0gaMOgbmcgbeG7m2kNCiAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIj4NCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tbGlnaHQgY2xvc2UtcHJvY2VkdXJlLW1vZGFsIj5I4buneTwvYnV0dG9uPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0ic2F2ZVByb2NlZHVyZUJ0biI+TMawdSB0aOG7pyB0aHXhuq10PC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCiAgICA8IS0tIE1vZGFsIG5o4bqtcCB0aHXhu5FjIC0tPg0KICAgIDxkaXYgaWQ9Im1lZGljaW5lTW9kYWwiIGNsYXNzPSJtb2RhbCI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDgwMHB4OyI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoMz5OaOG6rXAgdGh14buRYzwvaDM+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UtYnRuIGNsb3NlLW1lZGljaW5lLW1vZGFsIj4mdGltZXM7PC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvZ2dsZS1wcmljZSI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRvZ2dsZS1zd2l0Y2giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZU1lZGljaW5lUHJpY2UiIGNoZWNrZWQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNsaWRlciI+PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5IaeG7g24gdGjhu4sgY+G7mXQgZ2nDoSB0aeG7gW48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJ0YWJsZS1pbnB1dCIgaWQ9Im1lZGljaW5lVGFibGUiPg0KICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlNUVDwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlTDqm4gdGh14buRYzwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlPhu5EgbMaw4bujbmc8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0icHJpY2UtY29sdW1uIj5HacOhIHRp4buBbjwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPljDs2E8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgPHRib2R5IGlkPSJtZWRpY2luZVRhYmxlQm9keSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjE8L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9Im1lZGljaW5lLW5hbWUiIHBsYWNlaG9sZGVyPSJOaOG6rXAgdMOqbiB0aHXhu5FjIj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48aW5wdXQgdHlwZT0ibnVtYmVyIiBjbGFzcz0ibWVkaWNpbmUtcXVhbnRpdHkiIHBsYWNlaG9sZGVyPSJT4buRIGzGsOG7o25nIiBtaW49IjEiIHZhbHVlPSIxIj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0icHJpY2UtY29sdW1uIj48aW5wdXQgdHlwZT0ibnVtYmVyIiBjbGFzcz0ibWVkaWNpbmUtcHJpY2UiIHBsYWNlaG9sZGVyPSJHacOhIHRp4buBbiIgbWluPSIwIj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20gcmVtb3ZlLXJvdyI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICA8L3Rib2R5Pg0KICAgICAgICAgICAgICAgICAgICA8dGZvb3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9InN1YnRvdGFsLXJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjIiPlThu5VuZyBj4buZbmc8L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBpZD0ibWVkaWNpbmVUb3RhbFF1YW50aXR5Ij4wPC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InByaWNlLWNvbHVtbiIgaWQ9Im1lZGljaW5lVG90YWxQcmljZSI+MDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGlkPSJtZWRpY2luZVRvdGFsUm93IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSIzIj5U4buVbmcgZ2nDoSB0aeG7gW48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0ibWVkaWNpbmVUb3RhbEFtb3VudCIgcGxhY2Vob2xkZXI9Ik5o4bqtcCB04buVbmcgZ2nDoSB0aeG7gW4iIG1pbj0iMCI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgIDwvdGZvb3Q+DQogICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJhZGRNZWRpY2luZVJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiBUaMOqbSBow6BuZyBt4bubaQ0KICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tbGlnaHQgY2xvc2UtbWVkaWNpbmUtbW9kYWwiPkjhu6d5PC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0ic2F2ZU1lZGljaW5lQnRuIj5MxrB1IHRodeG7kWM8L2J1dHRvbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS0gTW9kYWwgZGnhu4VuIGJp4bq/biBi4buHbmggLS0+DQogICA8IS0tIE1vZGFsIGRp4buFbiBiaeG6v24gYuG7h25oIC0tPg0KPGRpdiBpZD0icHJvZ3Jlc3NNb2RhbCIgY2xhc3M9Im1vZGFsIj4NCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiAxMDAwcHg7Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgIDxoMz5EaeG7hW4gYmnhur9uIGLhu4duaDwvaDM+DQogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjbG9zZS1idG4gY2xvc2UtcHJvZ3Jlc3MtbW9kYWwiPiZ0aW1lczs8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1yb3ciPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPlTDqm4gYuG7h25oIG5ow6JuPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9ncmVzc1BhdGllbnROYW1lIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZWFkb25seT4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj5UdeG7lWk8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InByb2dyZXNzUGF0aWVudEFnZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVhZG9ubHk+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+TcOjIGLhu4duaCBuaMOibjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icHJvZ3Jlc3NQYXRpZW50Q29kZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVhZG9ubHk+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPg0KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+Q2jhuqluIMSRb8OhbjwvbGFiZWw+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9ncmVzc0RpYWdub3NpcyIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVhZG9ubHk+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgPGg0IGNsYXNzPSJzZWN0aW9uLXRpdGxlIj5M4buLY2ggc+G7rSBkaeG7hW4gYmnhur9uPC9oND4NCiAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0idGFibGUtaW5wdXQiIGlkPSJwcm9ncmVzc1RhYmxlIj4NCiAgICAgICAgICAgICAgICA8dGhlYWQ+DQogICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5TVFQ8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkdp4budIHbDoCBuZ8OgeTwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGg+RGnhu4VuIGJp4bq/bjwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGg+WSBs4buHbmg8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRoPljDs2E8L3RoPg0KICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwvdGhlYWQ+DQogICAgICAgICAgICAgICAgPHRib2R5IGlkPSJwcm9ncmVzc1RhYmxlQm9keSI+DQogICAgICAgICAgICAgICAgICAgIDwhLS0gUm93cyBz4bq9IMSRxrDhu6NjIHRow6ptIGLhurFuZyBKUyAtLT4NCiAgICAgICAgICAgICAgICA8L3Rib2R5Pg0KICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFkZFByb2dyZXNzUm93Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4gVGjDqm0gZGnhu4VuIGJp4bq/bg0KICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1saWdodCBjbG9zZS1wcm9ncmVzcy1tb2RhbCI+SOG7p3k8L2J1dHRvbj4NCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InNhdmVQcm9ncmVzc0J0biI+TMawdSBkaeG7hW4gYmnhur9uPC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCjwhLS0gTW9kYWwgbmjhuq1wIGRp4buFbiBiaeG6v24gY2hpIHRp4bq/dCAtLT4NCjxkaXYgaWQ9InByb2dyZXNzRGV0YWlsTW9kYWwiIGNsYXNzPSJtb2RhbCI+DQogICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNzAwcHg7Ij4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgIDxoMyBpZD0icHJvZ3Jlc3NEZXRhaWxUaXRsZSI+Tmjhuq1wIGRp4buFbiBiaeG6v248L2gzPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UtYnRuIGNsb3NlLXByb2dyZXNzLWRldGFpbC1tb2RhbCI+JnRpbWVzOzwvYnV0dG9uPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4NCiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIGlkPSJwcm9ncmVzc0RldGFpbExhYmVsIj5O4buZaSBkdW5nIGNoaSB0aeG6v3Q8L2xhYmVsPg0KICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0icHJvZ3Jlc3NEZXRhaWxUZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiByb3dzPSIxMiIgcGxhY2Vob2xkZXI9Ik5o4bqtcCBu4buZaSBkdW5nIGNoaSB0aeG6v3QuLi4iPjwvdGV4dGFyZWE+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+DQogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWxpZ2h0IGNsb3NlLXByb2dyZXNzLWRldGFpbC1tb2RhbCI+SOG7p3k8L2J1dHRvbj4NCiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InNhdmVQcm9ncmVzc0RldGFpbEJ0biI+TMawdSBu4buZaSBkdW5nPC9idXR0b24+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCiAgICA8IS0tIE1vZGFsIHjDoWMgbmjhuq1uIHjDs2EgLS0+DQogICAgPGRpdiBpZD0iY29uZmlybURlbGV0ZU1vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA1MDBweDsiPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8aDM+WMOhYyBuaOG6rW4geMOzYTwvaDM+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UtYnRuIGNsb3NlLWRlbGV0ZS1tb2RhbCI+JnRpbWVzOzwvYnV0dG9uPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8cD5C4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBi4buHbmggw6FuIG7DoHkga2jDtG5nPyBIw6BuaCDEkeG7mW5nIG7DoHkga2jDtG5nIHRo4buDIGhvw6BuIHTDoWMuPC9wPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tbGlnaHQgY2xvc2UtZGVsZXRlLW1vZGFsIj5I4buneTwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBpZD0iY29uZmlybURlbGV0ZUJ0biI+WMOzYSBi4buHbmggw6FuPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQoNCiAgICA8IS0tIE1vZGFsIHTDuXkgY2jhu41uIGluL3ThuqNpIC0tPg0KICA8IS0tIE1vZGFsIHTDuXkgY2jhu41uIGluL3ThuqNpIC0gSEnhu4ZOIMSQ4bqgSSAtLT4NCjxkaXYgaWQ9InByaW50T3B0aW9uc01vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDUwMHB4OyBib3JkZXItcmFkaXVzOiAxNnB4OyI+DQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciIgc3R5bGU9ImJvcmRlci1yYWRpdXM6IDE2cHggMTZweCAwIDA7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLXByaW1hcnkpLCB2YXIoLS1zZWNvbmRhcnkpKTsiPg0KICAgICAgICAgICAgPGgzIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEwcHg7Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWZpbGUtZXhwb3J0IiBzdHlsZT0iZm9udC1zaXplOiAxLjNyZW07Ij48L2k+DQogICAgICAgICAgICAgICAgWHXhuqV0IGLhu4duaCDDoW4NCiAgICAgICAgICAgIDwvaDM+DQogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjbG9zZS1idG4gY2xvc2UtcHJpbnQtbW9kYWwiIHN0eWxlPSJiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMik7Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRpbWVzIj48L2k+DQogICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIA0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IiBzdHlsZT0icGFkZGluZzogMjVweDsiPg0KICAgICAgICAgICAgPCEtLSBUYWJzIGNodXnhu4NuIMSR4buVaSAtLT4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImV4cG9ydC10YWJzIiBzdHlsZT0iZGlzcGxheTogZmxleDsgZ2FwOiA1cHg7IG1hcmdpbi1ib3R0b206IDI1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IHBhZGRpbmc6IDVweDsgYm9yZGVyLXJhZGl1czogMTJweDsiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImV4cG9ydC10YWIgYWN0aXZlIiBkYXRhLXRhYj0icHJpbnQiPg0KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXByaW50Ij48L2k+IEluDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZXhwb3J0LXRhYiIgZGF0YS10YWI9ImRvd25sb2FkIj4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1kb3dubG9hZCI+PC9pPiBU4bqjaSB4deG7kW5nDQogICAgICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgPCEtLSBUYWIgSW4g4bqlbiAtLT4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImV4cG9ydC1jb250ZW50IGFjdGl2ZSIgaWQ9InByaW50VGFiIj4NCiAgICAgICAgICAgICAgICA8aDQgc3R5bGU9ImNvbG9yOiB2YXIoLS1zZWNvbmRhcnkpOyBtYXJnaW4tYm90dG9tOiAxNXB4OyBmb250LXNpemU6IDEuMXJlbTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7Ij4NCiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wcmludCIgc3R5bGU9ImNvbG9yOiB2YXIoLS1wcmltYXJ5KTsiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgQ2jhu41uIGxv4bqhaSBpbiDhuqVuDQogICAgICAgICAgICAgICAgPC9oND4NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tZ3JpZCI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImV4cG9ydC1vcHRpb24gcHJpbnQtb3B0aW9uIiBkYXRhLXR5cGU9ImZ1bGwiIHN0eWxlPSJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taWNvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1maWxlLW1lZGljYWwtYWx0Ij48L2k+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1jb250ZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tdGl0bGUiPlRvw6BuIGLhu5kgYuG7h25oIMOhbjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1kZXNjIj5JbiDEkeG6p3kgxJHhu6cgdGjDtG5nIHRpbjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tYXJyb3ciPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hldnJvbi1yaWdodCI+PC9pPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhwb3J0LW9wdGlvbiBwcmludC1vcHRpb24iIGRhdGEtdHlwZT0ibWVkaWNpbmUiIHN0eWxlPSJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjA5M2ZiIDAlLCAjZjU1NzZjIDEwMCUpOyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taWNvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1waWxscyI+PC9pPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tY29udGVudCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLXRpdGxlIj7EkMahbiB0aHXhu5FjPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWRlc2MiPkRhbmggc8OhY2ggdGh14buRYyBrw6ogxJHGoW48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWFycm93Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZXZyb24tcmlnaHQiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImV4cG9ydC1vcHRpb24gcHJpbnQtb3B0aW9uIiBkYXRhLXR5cGU9InByb2NlZHVyZSIgc3R5bGU9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM0ZmFjZmUgMCUsICMwMGYyZmUgMTAwJSk7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pY29uIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXByb2NlZHVyZXMiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWNvbnRlbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi10aXRsZSI+VGjhu6cgdGh14bqtdDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1kZXNjIj5Dw6FjIHRo4bunIHRodeG6rXQgxJHDoyB0aOG7sWMgaGnhu4duPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1hcnJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jaGV2cm9uLXJpZ2h0Ij48L2k+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleHBvcnQtb3B0aW9uIHByaW50LW9wdGlvbiIgZGF0YS10eXBlPSJwcm9ncmVzcyIgc3R5bGU9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM0M2U5N2IgMCUsICMzOGY5ZDcgMTAwJSk7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pY29uIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWhpc3RvcnkiPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWNvbnRlbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi10aXRsZSI+RGnhu4VuIGJp4bq/bjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1kZXNjIj5M4buLY2ggc+G7rSBkaeG7hW4gYmnhur9uIGLhu4duaDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tYXJyb3ciPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hldnJvbi1yaWdodCI+PC9pPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICANCiAgICAgICAgICAgIDwhLS0gVGFiIFThuqNpIHh14buRbmcgLS0+DQogICAgICAgICAgIDwhLS0gVGFiIFThuqNpIHh14buRbmcgLSBDSOG7iCBDw5MgRE9DWCAtLT4NCjxkaXYgY2xhc3M9ImV4cG9ydC1jb250ZW50IiBpZD0iZG93bmxvYWRUYWIiPg0KICAgIDxoNCBzdHlsZT0iY29sb3I6IHZhcigtLXNlY29uZGFyeSk7IG1hcmdpbi1ib3R0b206IDE1cHg7IGZvbnQtc2l6ZTogMS4xcmVtOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsiPg0KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWZpbGUtd29yZCIgc3R5bGU9ImNvbG9yOiB2YXIoLS1wcmltYXJ5KTsiPjwvaT4NCiAgICAgICAgVOG6o2kgeHXhu5FuZyBmaWxlIERPQ1gNCiAgICA8L2g0Pg0KICAgIA0KICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1ncmlkIj4NCiAgICAgICAgPGRpdiBjbGFzcz0iZXhwb3J0LW9wdGlvbiBkb3dubG9hZC1vcHRpb24iIGRhdGEtdHlwZT0iZnVsbCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taWNvbiIgc3R5bGU9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWZpbGUtYXJjaGl2ZSI+PC9pPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tY29udGVudCI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLXRpdGxlIj5Ub8OgbiBi4buZIGLhu4duaCDDoW48L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tZGVzYyI+VOG6o2kgxJHhuqd5IMSR4bunIHRow7RuZyB0aW48L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWFycm93Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWRvd25sb2FkIj48L2k+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIA0KICAgICAgICA8ZGl2IGNsYXNzPSJleHBvcnQtb3B0aW9uIGRvd25sb2FkLW9wdGlvbiIgZGF0YS10eXBlPSJtZWRpY2luZSI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taWNvbiIgc3R5bGU9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmMDkzZmIgMCUsICNmNTU3NmMgMTAwJSk7Ij4NCiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXByZXNjcmlwdGlvbi1ib3R0bGUtYWx0Ij48L2k+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1jb250ZW50Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tdGl0bGUiPsSQxqFuIHRodeG7kWM8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tZGVzYyI+RGFuaCBzw6FjaCB0aHXhu5FjPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1hcnJvdyI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1kb3dubG9hZCI+PC9pPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICANCiAgICAgICAgPGRpdiBjbGFzcz0iZXhwb3J0LW9wdGlvbiBkb3dubG9hZC1vcHRpb24iIGRhdGEtdHlwZT0icHJvY2VkdXJlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pY29uIiBzdHlsZT0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzRmYWNmZSAwJSwgIzAwZjJmZSAxMDAlKTsiPg0KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3lyaW5nZSI+PC9pPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tY29udGVudCI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLXRpdGxlIj5UaOG7pyB0aHXhuq10PC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWRlc2MiPkPDoWMgdGjhu6cgdGh14bqtdDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tYXJyb3ciPg0KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZG93bmxvYWQiPjwvaT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgDQogICAgICAgIDxkaXYgY2xhc3M9ImV4cG9ydC1vcHRpb24gZG93bmxvYWQtb3B0aW9uIiBkYXRhLXR5cGU9InByb2dyZXNzIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pY29uIiBzdHlsZT0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzQzZTk3YiAwJSwgIzM4ZjlkNyAxMDAlKTsiPg0KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hhcnQtbGluZSI+PC9pPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tY29udGVudCI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLXRpdGxlIj5EaeG7hW4gYmnhur9uPC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWRlc2MiPkzhu4tjaCBz4butIGLhu4duaDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24tYXJyb3ciPg0KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZG93bmxvYWQiPjwvaT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgDQogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciIgc3R5bGU9ImJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOyBwYWRkaW5nOiAxNXB4IDI1cHg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsiPg0KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1saWdodCBjbG9zZS1wcmludC1tb2RhbCIgc3R5bGU9ImJvcmRlci1yYWRpdXM6IDMwcHg7IHBhZGRpbmc6IDhweCAyMHB4OyI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10aW1lcyI+PC9pPiDEkMOzbmcNCiAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhwb3J0LWluZm8iIHN0eWxlPSJmb250LXNpemU6IDAuOXJlbTsgY29sb3I6IHZhcigtLWdyYXkpOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDhweDsiPg0KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtaW5mby1jaXJjbGUiPjwvaT4NCiAgICAgICAgICAgICAgICA8c3BhbiBpZD0ic2VsZWN0ZWRPcHRpb25UZXh0Ij5DaOG7jW4gbeG7mXQgdMO5eSBjaOG7jW48L3NwYW4+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQo8L2Rpdj4NCg0KICAgIDxzY3JpcHQ+DQoJLyogPT09PT09PT09PT09PT09PT0gTE9HSU4gU1lTVEVNID09PT09PT09PT09PT09PT09ICovDQoNCi8vIFTDgEkgS0hP4bqiTiBN4bq2QyDEkOG7ik5IIChBTkggxJDhu5RJIFNBVSkNCmNvbnN0IEFVVEhfQUNDT1VOVCA9IHsNCiAgICB1c2VybmFtZTogImFkbWluIiwNCiAgICBwYXNzd29yZDogIjEyMzQ1NiINCn07DQoNCi8vIEtp4buDbSB0cmEgxJHEg25nIG5o4bqtcCBraGkgbG9hZA0KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsICgpID0+IHsNCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImlzTG9nZ2VkSW4iKSA9PT0gInRydWUiKSB7DQogICAgICAgIGhpZGVMb2dpbigpOw0KICAgIH0NCn0pOw0KDQpmdW5jdGlvbiBoYW5kbGVMb2dpbigpIHsNCiAgICBjb25zdCB1ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ2luVXNlcm5hbWUiKS52YWx1ZS50cmltKCk7DQogICAgY29uc3QgcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dpblBhc3N3b3JkIikudmFsdWUudHJpbSgpOw0KICAgIGNvbnN0IGVycm9yQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ2luRXJyb3IiKTsNCg0KICAgIGlmICghdSB8fCAhcCkgew0KICAgICAgICBlcnJvckJveC50ZXh0Q29udGVudCA9ICJWdWkgbMOybmcgbmjhuq1wIMSR4bqneSDEkeG7pyB0aMO0bmcgdGluIjsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGlmICh1ID09PSBBVVRIX0FDQ09VTlQudXNlcm5hbWUgJiYgcCA9PT0gQVVUSF9BQ0NPVU5ULnBhc3N3b3JkKSB7DQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpc0xvZ2dlZEluIiwgInRydWUiKTsNCiAgICAgICAgaGlkZUxvZ2luKCk7DQogICAgICAgIHNob3dUb2FzdCgixJDEg25nIG5o4bqtcCB0aMOgbmggY8O0bmciLCAic3VjY2VzcyIpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGVycm9yQm94LnRleHRDb250ZW50ID0gIlNhaSB0w6BpIGtob+G6o24gaG/hurdjIG3huq10IGto4bqpdSI7DQogICAgfQ0KfQ0KDQpmdW5jdGlvbiBoaWRlTG9naW4oKSB7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ2luT3ZlcmxheSIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQp9DQoNCmZ1bmN0aW9uIGxvZ291dCgpIHsNCiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiaXNMb2dnZWRJbiIpOw0KICAgIGxvY2F0aW9uLnJlbG9hZCgpOw0KfQ0KDQoJLy8gRW50ZXIgxJHhu4MgxJHEg25nIG5o4bqtcA0KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7DQogICAgaWYgKGUua2V5ID09PSAiRW50ZXIiKSB7DQogICAgICAgIGNvbnN0IGxvZ2luT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dpbk92ZXJsYXkiKTsNCiAgICAgICAgaWYgKGxvZ2luT3ZlcmxheSAmJiBsb2dpbk92ZXJsYXkuc3R5bGUuZGlzcGxheSAhPT0gIm5vbmUiKSB7DQogICAgICAgICAgICBoYW5kbGVMb2dpbigpOw0KICAgICAgICB9DQogICAgfQ0KfSk7DQoNCgkNCiAgICAgICAgLy8gS2jhu59pIHThuqFvIGJp4bq/biB0b8OgbiBj4bulYw0KICAgICAgICBsZXQgbWVkaWNhbFJlY29yZHMgPSBbXTsNCiAgICAgICAgbGV0IGN1cnJlbnRSZWNvcmRJZCA9IG51bGw7DQogICAgICAgIGxldCBjdXJyZW50UHJvZ3Jlc3NSZWNvcmRJZCA9IG51bGw7DQogICAgICAgIGxldCBpc0VkaXRpbmcgPSBmYWxzZTsNCgkJbGV0IGN1cnJlbnRFZGl0aW5nUmVjb3JkSWQgPSBudWxsOyANCgkJbGV0IGN1cnJlbnRFZGl0aW5nUHJvZ3Jlc3NDZWxsID0gbnVsbDsgDQogICAgICAgIC8vIEjDoG0gdOG6oW8gbcOjIGLhu4duaCBuaMOibiB04buxIMSR4buZbmcgDQpmdW5jdGlvbiBnZW5lcmF0ZVBhdGllbnRDb2RlKCkgew0KICAgIGlmIChtZWRpY2FsUmVjb3Jkcy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgcmV0dXJuICcwMDAwMDAxJzsNCiAgICB9DQogICAgDQogICAgLy8gVMOsbSBtw6MgbOG7m24gbmjhuqV0IGhp4buHbiBjw7MNCiAgICBsZXQgbWF4Q29kZSA9IDA7DQogICAgbWVkaWNhbFJlY29yZHMuZm9yRWFjaChyZWNvcmQgPT4gew0KICAgICAgICBpZiAocmVjb3JkLnBhdGllbnRDb2RlICYmIC9eXGQrJC8udGVzdChyZWNvcmQucGF0aWVudENvZGUpKSB7DQogICAgICAgICAgICBjb25zdCBjb2RlTnVtID0gcGFyc2VJbnQocmVjb3JkLnBhdGllbnRDb2RlKTsNCiAgICAgICAgICAgIGlmIChjb2RlTnVtID4gbWF4Q29kZSkgew0KICAgICAgICAgICAgICAgIG1heENvZGUgPSBjb2RlTnVtOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQogICAgDQogICAgLy8gVOG6oW8gbcOjIG3hu5tpDQogICAgY29uc3QgbmV3Q29kZSA9IG1heENvZGUgKyAxOw0KICAgIHJldHVybiBuZXdDb2RlLnRvU3RyaW5nKCkucGFkU3RhcnQoNywgJzAnKTsNCn0NCiAgICAgICAgLy8gQ+G6pXUgaMOsbmggRHJvcGJveA0KICAgICAgICBjb25zdCBEUk9QQk9YX0NPTkZJRyA9IHsNCiAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogJ3l2VmRTbk9veGdzQUFBQUFBQUFBQVl3cVJRbVU5TlBndktyTW16QUwySlk5UXF1dGVtZUVzeWtEOUxtbFFjUnInLA0KICAgICAgICAgICAgYXBwS2V5OiAncXp5NWtjbHJmODI3YWV5JywNCiAgICAgICAgICAgIGFwcFNlY3JldDogJzZqbHN1bnpqcXIzczNuaCcsDQogICAgICAgICAgICBmaWxlUGF0aDogJy9tZWRpY2FsX3JlY29yZHMuanNvbicNCiAgICAgICAgfTsNCg0KICAgICAgICBsZXQgZHJvcGJveEFjY2Vzc1Rva2VuID0gbnVsbDsNCg0KICAgICAgICAvLyBET00gRWxlbWVudHMNCiAgICAgICAgY29uc3QgbmV3UmVjb3JkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld1JlY29yZEJ0bicpOw0KICAgICAgICBjb25zdCByZWNvcmRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNvcmRNb2RhbCcpOw0KCQkNCiAgICAgICAgY29uc3QgY2xvc2VNb2RhbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZU1vZGFsQnRuJyk7DQogICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxCdG4nKTsNCiAgICAgICAgY29uc3Qgc2F2ZVJlY29yZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlUmVjb3JkQnRuJyk7DQogICAgICAgIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaElucHV0Jyk7DQogICAgICAgIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hCdG4nKTsNCiAgICAgICAgY29uc3QgcmVzZXRTZWFyY2hCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXRTZWFyY2hCdG4nKTsNCiAgICAgICAgY29uc3QgcmVjb3Jkc1RhYmxlQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNvcmRzVGFibGVCb2R5Jyk7DQogICAgICAgIGNvbnN0IGVtcHR5U3RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wdHlTdGF0ZScpOw0KICAgICAgICBjb25zdCBsb2FkaW5nU3RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZ1N0YXRlJyk7DQogICAgICAgIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0Jyk7DQogICAgICAgIA0KICAgICAgICAvLyBIaeG7g24gdGjhu4sgdG9hc3QgdGjDtG5nIGLDoW8NCiAgICAgICAgZnVuY3Rpb24gc2hvd1RvYXN0KG1lc3NhZ2UsIHR5cGUgPSAnc3VjY2VzcycpIHsNCiAgICAgICAgICAgIHRvYXN0LnRleHRDb250ZW50ID0gbWVzc2FnZTsNCiAgICAgICAgICAgIHRvYXN0LmNsYXNzTmFtZSA9IGB0b2FzdCB0b2FzdC0ke3R5cGV9YDsNCiAgICAgICAgICAgIHRvYXN0LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICB0b2FzdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgfSwgMzAwMCk7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBM4bqleSBhY2Nlc3MgdG9rZW4gdOG7qyByZWZyZXNoIHRva2VuDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldERyb3Bib3hBY2Nlc3NUb2tlbigpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZHJvcGJveC5jb20vb2F1dGgyL3Rva2VuJywgew0KICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdncmFudF90eXBlJzogJ3JlZnJlc2hfdG9rZW4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3JlZnJlc2hfdG9rZW4nOiBEUk9QQk9YX0NPTkZJRy5yZWZyZXNoVG9rZW4sDQogICAgICAgICAgICAgICAgICAgICAgICAnY2xpZW50X2lkJzogRFJPUEJPWF9DT05GSUcuYXBwS2V5LA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWVudF9zZWNyZXQnOiBEUk9QQk9YX0NPTkZJRy5hcHBTZWNyZXQNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLaMO0bmcgdGjhu4MgbOG6pXkgYWNjZXNzIHRva2VuIHThu6sgRHJvcGJveCcpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgICAgICAgICAgICAgZHJvcGJveEFjY2Vzc1Rva2VuID0gZGF0YS5hY2Nlc3NfdG9rZW47DQogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuYWNjZXNzX3Rva2VuOw0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdM4buXaSBraGkgbOG6pXkgYWNjZXNzIHRva2VuOicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ0zhu5dpIGvhur90IG7hu5FpIERyb3Bib3g6ICcgKyBlcnJvci5tZXNzYWdlLCAnZXJyb3InKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEzGsHUgZOG7ryBsaeG7h3UgbMOqbiBEcm9wYm94DQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHNhdmVUb0Ryb3Bib3goKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICghZHJvcGJveEFjY2Vzc1Rva2VuKSB7DQogICAgICAgICAgICAgICAgICAgIGRyb3Bib3hBY2Nlc3NUb2tlbiA9IGF3YWl0IGdldERyb3Bib3hBY2Nlc3NUb2tlbigpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIWRyb3Bib3hBY2Nlc3NUb2tlbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLaMO0bmcgY8OzIGFjY2VzcyB0b2tlbicpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgbWVkaWNhbFJlY29yZHM6IG1lZGljYWxSZWNvcmRzLA0KICAgICAgICAgICAgICAgICAgICBsYXN0U3luYzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLA0KICAgICAgICAgICAgICAgICAgICB0b3RhbFJlY29yZHM6IG1lZGljYWxSZWNvcmRzLmxlbmd0aA0KICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy91cGxvYWQnLCB7DQogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtkcm9wYm94QWNjZXNzVG9rZW59YCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogRFJPUEJPWF9DT05GSUcuZmlsZVBhdGgsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogJ292ZXJ3cml0ZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b3JlbmFtZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXV0ZTogdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOw0KICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmVycm9yX3N1bW1hcnkgfHwgJ1VwbG9hZCBmYWlsZWQnKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIGzGsHUgOicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ0zhu5dpIGtoaSBsxrB1IDogJyArIGVycm9yLm1lc3NhZ2UsICdlcnJvcicpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFThuqNpIGThu68gbGnhu4d1IHThu6sgRHJvcGJveA0KICAgICAgICBhc3luYyBmdW5jdGlvbiBsb2FkRnJvbURyb3Bib3goKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGlmICghZHJvcGJveEFjY2Vzc1Rva2VuKSB7DQogICAgICAgICAgICAgICAgICAgIGRyb3Bib3hBY2Nlc3NUb2tlbiA9IGF3YWl0IGdldERyb3Bib3hBY2Nlc3NUb2tlbigpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIWRyb3Bib3hBY2Nlc3NUb2tlbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdLaMO0bmcgY8OzIGFjY2VzcyB0b2tlbicpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9jb250ZW50LmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvZG93bmxvYWQnLCB7DQogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtkcm9wYm94QWNjZXNzVG9rZW59YCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdEcm9wYm94LUFQSS1BcmcnOiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogRFJPUEJPWF9DT05GSUcuZmlsZVBhdGgNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBGaWxlIGtow7RuZyB04buTbiB04bqhaSwgdOG6oW8gZmlsZSBt4bubaQ0KICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWNhbFJlY29yZHMgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNhdmVUb0Ryb3Bib3goKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRG93bmxvYWQgZmFpbGVkJyk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tZWRpY2FsUmVjb3JkcyAmJiBBcnJheS5pc0FycmF5KGRhdGEubWVkaWNhbFJlY29yZHMpKSB7DQogICAgICAgICAgICAgICAgICAgIG1lZGljYWxSZWNvcmRzID0gZGF0YS5tZWRpY2FsUmVjb3JkczsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdE4buvIGxp4buHdSBraMO0bmcgaOG7o3AgbOG7hycpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIHThuqNpOicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ0zhu5dpIGtoaSB04bqjaSB04burOiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVOG6o2kgZOG7ryBsaeG7h3Uga2hpIGto4bufaSDEkeG7mW5nDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWREYXRhKCkgew0KICAgICAgICAgICAgbG9hZGluZ1N0YXRlLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7DQogICAgICAgICAgICByZWNvcmRzVGFibGVCb2R5LmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgZW1wdHlTdGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgbG9hZEZyb21Ecm9wYm94KCk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxvYWRpbmdTdGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgIHJlbmRlclJlY29yZHNUYWJsZSgpOw0KICAgICAgICAgICAgICAgIHNob3dUb2FzdChgxJDDoyB04bqjaSAke21lZGljYWxSZWNvcmRzLmxlbmd0aH0gYuG7h25oIMOhbmAsICdzdWNjZXNzJyk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGVtcHR5U3RhdGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAvLyBIaeG7g24gdGjhu4sgZGFuaCBzw6FjaCBi4buHbmggw6FuDQpmdW5jdGlvbiByZW5kZXJSZWNvcmRzVGFibGUoZmlsdGVyZWRSZWNvcmRzID0gbnVsbCkgew0KICAgIGNvbnN0IHJlY29yZHMgPSBmaWx0ZXJlZFJlY29yZHMgfHwgbWVkaWNhbFJlY29yZHM7DQogICAgDQogICAgaWYgKHJlY29yZHMubGVuZ3RoID09PSAwKSB7DQogICAgICAgIHJlY29yZHNUYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7DQogICAgICAgIGVtcHR5U3RhdGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgZW1wdHlTdGF0ZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIA0KICAgIC8vIFPhuq9wIHjhur9wIG3hu5tpIGzDqm4gdHLGsOG7m2MNCiAgICBjb25zdCBzb3J0ZWRSZWNvcmRzID0gWy4uLnJlY29yZHNdLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIuY3JlYXRlZEF0KSAtIG5ldyBEYXRlKGEuY3JlYXRlZEF0KSk7DQogICAgDQogICAgbGV0IHRhYmxlSFRNTCA9ICcnOw0KICAgIHNvcnRlZFJlY29yZHMuZm9yRWFjaCgocmVjb3JkLCBpbmRleCkgPT4gew0KICAgICAgICAvLyBT4busQSBEw5JORyBOw4BZOiBkw7luZyBwcmltYXJ5RGlhZ25vc2lzIHRoYXkgdsOsIGRpYWdub3Npcw0KICAgICAgICBjb25zdCBzaG9ydERpYWdub3NpcyA9IHJlY29yZC5wcmltYXJ5RGlhZ25vc2lzICYmIHJlY29yZC5wcmltYXJ5RGlhZ25vc2lzLmxlbmd0aCA+IDUwID8gDQogICAgICAgICAgICByZWNvcmQucHJpbWFyeURpYWdub3Npcy5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicgOiByZWNvcmQucHJpbWFyeURpYWdub3NpcyB8fCAnJzsNCiAgICAgICAgDQogICAgICAgIHRhYmxlSFRNTCArPSBgDQogICAgICAgICAgICA8dHIgZGF0YS1pZD0iJHtyZWNvcmQuaWR9Ij4NCiAgICAgICAgICAgICAgICA8dGQ+JHtpbmRleCArIDF9PC90ZD4NCiAgICAgICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke3JlY29yZC5wYXRpZW50Q29kZX08L3N0cm9uZz48L3RkPg0KICAgICAgICAgICAgICAgIDx0ZD4ke3JlY29yZC5wYXRpZW50TmFtZX08L3RkPg0KICAgICAgICAgICAgICAgIDx0ZD4ke3JlY29yZC5hZ2V9PC90ZD4NCiAgICAgICAgICAgICAgICA8dGQ+JHtmb3JtYXREYXRlKHJlY29yZC5leGFtaW5hdGlvbkRhdGUpfTwvdGQ+DQogICAgICAgICAgICAgICAgPHRkPiR7c2hvcnREaWFnbm9zaXN9PC90ZD4gPCEtLSBIaeG7g24gdGjhu4sgY2jhuqluIMSRb8OhbiBjaMOtbmggLS0+DQogICAgICAgICAgICAgICAgPHRkPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhY3Rpb25zIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjdGlvbi1idG4gdmlldy1idG4iIHRpdGxlPSJT4butYSIgb25jbGljaz0idmlld1JlY29yZCgnJHtyZWNvcmQuaWR9JykiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXllIj48L2k+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVEjDik0gTOG6oEkgTsOaVCBESeG7hE4gQknhur5OIC0tPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWN0aW9uLWJ0biBoaXN0b3J5LWJ0biIgdGl0bGU9IkRp4buFbiBiaeG6v24iIG9uY2xpY2s9InNob3dQcm9ncmVzc01vZGFsKCcke3JlY29yZC5pZH0nKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1oaXN0b3J5Ij48L2k+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCgkJCQkJCTxkaXYgY2xhc3M9ImFjdGlvbi1idG4gdmlldy1idG4iDQogICAgIHRpdGxlPSJYZW0iDQogICAgIG9uY2xpY2s9InNob3dQcmV2aWV3T3B0aW9ucygnJHtyZWNvcmQuaWR9JykiPg0KICAgIDxpIGNsYXNzPSJmYXMgZmEtZmlsZS1wZGYiPjwvaT4NCjwvZGl2Pg0KDQogICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFjdGlvbi1idG4gcHJpbnQtYnRuIiANCiAgICAgdGl0bGU9IkluIC8gVOG6o2kiDQogICAgIG9uY2xpY2s9InNob3dQcmludE9wdGlvbnMoJyR7cmVjb3JkLmlkfScpIj4NCiAgICA8aSBjbGFzcz0iZmFzIGZhLXByaW50Ij48L2k+DQo8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWN0aW9uLWJ0biBkZWxldGUtYnRuIiB0aXRsZT0iWMOzYSIgb25jbGljaz0iY29uZmlybURlbGV0ZVJlY29yZCgnJHtyZWNvcmQuaWR9JykiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgPC90cj4NCiAgICAgICAgYDsNCiAgICB9KTsNCiAgICANCiAgICByZWNvcmRzVGFibGVCb2R5LmlubmVySFRNTCA9IHRhYmxlSFRNTDsNCn0NCg0KICAgICAgICAvLyDEkOG7i25oIGThuqFuZyBuZ8OgeSB0aMOhbmcNCiAgICAgICAgZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlU3RyaW5nKSB7DQogICAgICAgICAgICBpZiAoIWRhdGVTdHJpbmcpIHJldHVybiAnJzsNCiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTsNCiAgICAgICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygndmktVk4nKTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFTDrG0ga2nhur9tIGLhu4duaCDDoW4NCiAgLy8gVMOsbSBow6BtIG7DoHkgdsOgIHRow6ptIHTDrG0ga2nhur9tIHRoZW8gY2jhuqluIMSRb8OhbiBjaMOtbmg6DQpmdW5jdGlvbiBzZWFyY2hSZWNvcmRzKCkgew0KICAgIGNvbnN0IHNlYXJjaFRlcm0gPSBzZWFyY2hJbnB1dC52YWx1ZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTsNCiAgICANCiAgICBpZiAoIXNlYXJjaFRlcm0pIHsNCiAgICAgICAgcmVuZGVyUmVjb3Jkc1RhYmxlKCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgY29uc3QgZmlsdGVyZWRSZWNvcmRzID0gbWVkaWNhbFJlY29yZHMuZmlsdGVyKHJlY29yZCA9PiB7DQogICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAocmVjb3JkLnBhdGllbnROYW1lICYmIHJlY29yZC5wYXRpZW50TmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pKSB8fA0KICAgICAgICAgICAgKHJlY29yZC5wYXRpZW50Q29kZSAmJiByZWNvcmQucGF0aWVudENvZGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtKSkgfHwNCiAgICAgICAgICAgIChyZWNvcmQucHJpbWFyeURpYWdub3NpcyAmJiByZWNvcmQucHJpbWFyeURpYWdub3Npcy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pKSB8fCAvLyBUSMOKTSBEw5JORyBOw4BZDQogICAgICAgICAgICAocmVjb3JkLmRpYWdub3NpcyAmJiByZWNvcmQuZGlhZ25vc2lzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybSkpIHx8DQogICAgICAgICAgICAocmVjb3JkLmV4YW1pbmF0aW9uRGF0ZSAmJiByZWNvcmQuZXhhbWluYXRpb25EYXRlLmluY2x1ZGVzKHNlYXJjaFRlcm0pKQ0KICAgICAgICApOw0KICAgIH0pOw0KICAgIA0KICAgIHJlbmRlclJlY29yZHNUYWJsZShmaWx0ZXJlZFJlY29yZHMpOw0KfQ0KDQogICAgICAgIC8vIFJlc2V0IHTDrG0ga2nhur9tDQogICAgICAgIGZ1bmN0aW9uIHJlc2V0U2VhcmNoKCkgew0KICAgICAgICAgICAgc2VhcmNoSW5wdXQudmFsdWUgPSAnJzsNCiAgICAgICAgICAgIHJlbmRlclJlY29yZHNUYWJsZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gSGnhu4NuIHRo4buLIG1vZGFsIHRow6ptIGLhu4duaCDDoW4gbeG7m2kNCi8vIEhp4buDbiB0aOG7iyBtb2RhbCB0aMOqbSBi4buHbmggw6FuIG3hu5tpDQpmdW5jdGlvbiBzaG93TmV3UmVjb3JkTW9kYWwoKSB7DQogICAgY3VycmVudFJlY29yZElkID0gbnVsbDsNCgljdXJyZW50RWRpdGluZ1JlY29yZElkID0gbnVsbDsNCiAgICBpc0VkaXRpbmcgPSBmYWxzZTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWxUaXRsZScpLnRleHRDb250ZW50ID0gJ1Row6ptIGLhu4duaCDDoW4gbeG7m2knOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNvcmRGb3JtJykucmVzZXQoKTsNCiAgICANCiAgICAvLyDEkOG6t3QgbmfDoHkgbeG6t2MgxJHhu4tuaCBsw6AgaMO0bSBuYXkNCiAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtaW5hdGlvbkRhdGUnKS52YWx1ZSA9IHRvZGF5Ow0KICAgIA0KICAgIC8vIMSQ4bq3dCBnaeG7nSBt4bq3YyDEkeG7i25oIGzDoCBoaeG7h24gdOG6oWkNCiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOw0KICAgIGNvbnN0IGhvdXJzID0gbm93LmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOw0KICAgIGNvbnN0IG1pbnV0ZXMgPSBub3cuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbWluYXRpb25UaW1lJykudmFsdWUgPSBgJHtob3Vyc306JHttaW51dGVzfWA7DQogICAgDQogICAgLy8gVOG6oE8gTcODIELhu4ZOSCBOSMOCTiBU4buwIMSQ4buYTkcgKFRIw4pNIMSQT+G6oE4gTsOAWSkNCiAgICBjb25zdCBhdXRvQ29kZSA9IGdlbmVyYXRlUGF0aWVudENvZGUoKTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF0aWVudENvZGUnKS52YWx1ZSA9IGF1dG9Db2RlOw0KICAgIA0KICAgIC8vIFJlc2V0IGPDoWMgdGV4dGFyZWENCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhZ25vc2lzJykudmFsdWUgPSAnJzsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbWFyeURpYWdub3NpcycpLnZhbHVlID0gJyc7IC8vIFRIw4pNIETDkk5HIE7DgFkNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvY2VkdXJlVGV4dCcpLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLWV4cGFuZC1hbHQiPjwvaT4gTmjhuqVuIMSR4buDIHRow6ptIHRo4bunIHRodeG6rXQnOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZWR1cmVTdW1tYXJ5JykuaW5uZXJIVE1MID0gJyc7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZGljaW5lVGV4dCcpLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLWV4cGFuZC1hbHQiPjwvaT4gTmjhuqVuIMSR4buDIHRow6ptIHRodeG7kWMnOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWRpY2luZVN1bW1hcnknKS5pbm5lckhUTUwgPSAnJzsNCiAgICANCiAgICAvLyBU4buxIMSR4buZbmcgY2jhu41uIGdp4bubaSB0w61uaCBu4bq/dSB0w6puIGPDsyAidGjhu4siDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdGllbnROYW1lJykuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgaWYgKG5hbWUuaW5jbHVkZXMoJ3Ro4buLJykpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ImdlbmRlciJdW3ZhbHVlPSJO4buvIl0nKS5jaGVja2VkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIA0KICAgIHJlY29yZE1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KfQ0KDQogICAgICAgLy8gWGVtL3Phu61hIGLhu4duaCDDoW4NCmZ1bmN0aW9uIHZpZXdSZWNvcmQoaWQpIHsNCiAgICBjb25zdCByZWNvcmQgPSBtZWRpY2FsUmVjb3Jkcy5maW5kKHIgPT4gci5pZCA9PT0gaWQpOw0KICAgIGlmICghcmVjb3JkKSByZXR1cm47DQogICAgDQogICAgY3VycmVudFJlY29yZElkID0gaWQ7DQogY3VycmVudEVkaXRpbmdSZWNvcmRJZCA9IGlkOw0KICAgIGlzRWRpdGluZyA9IHRydWU7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsVGl0bGUnKS50ZXh0Q29udGVudCA9ICdT4butYSBi4buHbmggw6FuJzsNCiAgICANCiAgICAvLyDEkGnhu4FuIGThu68gbGnhu4d1IHbDoG8gZm9ybQ0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXRpZW50TmFtZScpLnZhbHVlID0gcmVjb3JkLnBhdGllbnROYW1lOw0KICAgIGNvbnN0IGdlbmRlclJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaW5wdXRbbmFtZT0iZ2VuZGVyIl1bdmFsdWU9IiR7cmVjb3JkLmdlbmRlciB8fCAnTmFtJ30iXWApOw0KICAgIGlmIChnZW5kZXJSYWRpbykgZ2VuZGVyUmFkaW8uY2hlY2tlZCA9IHRydWU7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdGllbnRBZ2UnKS52YWx1ZSA9IHJlY29yZC5hZ2U7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdGllbnRBZGRyZXNzJykudmFsdWUgPSByZWNvcmQuYWRkcmVzcyB8fCAnJzsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF0aWVudENvZGUnKS52YWx1ZSA9IHJlY29yZC5wYXRpZW50Q29kZTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbWluYXRpb25EYXRlJykudmFsdWUgPSByZWNvcmQuZXhhbWluYXRpb25EYXRlOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtaW5hdGlvblRpbWUnKS52YWx1ZSA9IHJlY29yZC5leGFtaW5hdGlvblRpbWUgfHwgJzA5OjAwJzsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhZ25vc2lzJykudmFsdWUgPSByZWNvcmQuZGlhZ25vc2lzIHx8ICcnOyAvLyBDSOG7iCBEw5JORyBOw4BZIFRIQVkgxJDhu5RJDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvbGxvd1VwRGF0ZScpLnZhbHVlID0gcmVjb3JkLmZvbGxvd1VwRGF0ZSB8fCAnJzsNCiAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW1hcnlEaWFnbm9zaXMnKS52YWx1ZSA9IHJlY29yZC5wcmltYXJ5RGlhZ25vc2lzIHx8ICcnOw0KICAgIC8vIEhp4buDbiB0aOG7iyB0aOG7pyB0aHXhuq10DQogICAgaWYgKHJlY29yZC5wcm9jZWR1cmVzICYmIHJlY29yZC5wcm9jZWR1cmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgbGV0IHByb2NlZHVyZUhUTUwgPSAnPHVsPic7DQogICAgICAgIHJlY29yZC5wcm9jZWR1cmVzLmZvckVhY2gocHJvYyA9PiB7DQogICAgICAgICAgICBwcm9jZWR1cmVIVE1MICs9IGA8bGk+JHtwcm9jLm5hbWV9IC0gU+G7kSBs4bqnbjogJHtwcm9jLnF1YW50aXR5fSR7cHJvYy5wcmljZSA/IGAgLSBHacOhOiAke2Zvcm1hdEN1cnJlbmN5KHByb2MucHJpY2UpfWAgOiAnJ308L2xpPmA7DQogICAgICAgIH0pOw0KICAgICAgICBwcm9jZWR1cmVIVE1MICs9ICc8L3VsPic7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZWR1cmVTdW1tYXJ5JykuaW5uZXJIVE1MID0gcHJvY2VkdXJlSFRNTDsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2NlZHVyZVRleHQnKS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1leHBhbmQtYWx0Ij48L2k+IE5o4bqlbiDEkeG7gyBjaOG7iW5oIHPhu61hIHRo4bunIHRodeG6rXQnOw0KICAgIH0NCiAgICANCiAgICAvLyBIaeG7g24gdGjhu4sgdGh14buRYw0KICAgIGlmIChyZWNvcmQubWVkaWNpbmVzICYmIHJlY29yZC5tZWRpY2luZXMubGVuZ3RoID4gMCkgew0KICAgICAgICBsZXQgbWVkaWNpbmVIVE1MID0gJzx1bD4nOw0KICAgICAgICByZWNvcmQubWVkaWNpbmVzLmZvckVhY2gobWVkID0+IHsNCiAgICAgICAgICAgIG1lZGljaW5lSFRNTCArPSBgPGxpPiR7bWVkLm5hbWV9IC0gU+G7kSBsxrDhu6NuZzogJHttZWQucXVhbnRpdHl9JHttZWQucHJpY2UgPyBgIC0gR2nDoTogJHtmb3JtYXRDdXJyZW5jeShtZWQucHJpY2UpfWAgOiAnJ308L2xpPmA7DQogICAgICAgIH0pOw0KICAgICAgICBtZWRpY2luZUhUTUwgKz0gJzwvdWw+JzsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZGljaW5lU3VtbWFyeScpLmlubmVySFRNTCA9IG1lZGljaW5lSFRNTDsNCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZGljaW5lVGV4dCcpLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLWV4cGFuZC1hbHQiPjwvaT4gTmjhuqVuIMSR4buDIGNo4buJbmggc+G7rWEgdGh14buRYyc7DQogICAgfQ0KICAgIA0KICAgIHJlY29yZE1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KfQ0KDQogICAgICAgIC8vIMSQ4buLbmggZOG6oW5nIHRp4buBbiB04buHDQogICAgICBmdW5jdGlvbiBmb3JtYXRDdXJyZW5jeShhbW91bnQpIHsNCiAgICBpZiAoIWFtb3VudCAmJiBhbW91bnQgIT09IDApIHJldHVybiAnMCDigqsnOw0KICAgIGlmICh0eXBlb2YgYW1vdW50ICE9PSAnbnVtYmVyJykgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnQpIHx8IDA7DQogICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdCgndmktVk4nLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ1ZORCcgfSkuZm9ybWF0KGFtb3VudCk7DQp9DQoNCiAgICAgICAgLy8gTMawdSBi4buHbmggw6FuDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHNhdmVSZWNvcmQoKSB7DQogICAgICAgICAgICAvLyBM4bqleSBk4buvIGxp4buHdSB04burIGZvcm0NCiAgICAgICAgICAgIGNvbnN0IHBhdGllbnROYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdGllbnROYW1lJykudmFsdWU7DQogICAgICAgICAgICBjb25zdCBnZW5kZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPSJnZW5kZXIiXTpjaGVja2VkJykudmFsdWU7DQogICAgICAgICAgICBjb25zdCBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF0aWVudEFnZScpLnZhbHVlOw0KICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXRpZW50QWRkcmVzcycpLnZhbHVlOw0KICAgICAgICAgICAgY29uc3QgcGF0aWVudENvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF0aWVudENvZGUnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IGV4YW1pbmF0aW9uRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtaW5hdGlvbkRhdGUnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IGV4YW1pbmF0aW9uVGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtaW5hdGlvblRpbWUnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IGRpYWdub3NpcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFnbm9zaXMnKS52YWx1ZTsNCiAgICAgICAgICAgIGNvbnN0IGZvbGxvd1VwRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb2xsb3dVcERhdGUnKS52YWx1ZTsNCiAgICAgICAgICAgICAgIGNvbnN0IHByaW1hcnlEaWFnbm9zaXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbWFyeURpYWdub3NpcycpLnZhbHVlOw0KICAgICAgICAgICAgLy8gS2nhu4NtIHRyYSBk4buvIGxp4buHdSBi4bqvdCBideG7mWMNCiAgICAgICAgICAgIGlmICghcGF0aWVudE5hbWUgfHwgIWFnZSB8fCAhcGF0aWVudENvZGUgfHwgIWV4YW1pbmF0aW9uRGF0ZSB8fCAhZXhhbWluYXRpb25UaW1lIHx8ICFwcmltYXJ5RGlhZ25vc2lzKSB7DQogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCdWdWkgbMOybmcgxJFp4buBbiDEkeG6p3kgxJHhu6cgdGjDtG5nIHRpbiBi4bqvdCBideG7mWMnLCAnZXJyb3InKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEzhuqV5IGThu68gbGnhu4d1IHRo4bunIHRodeG6rXQgdsOgIHRodeG7kWMgdOG7qyBsb2NhbFN0b3JhZ2UgdOG6oW0gdGjhu51pDQogICAgICAgICAgICBjb25zdCB0ZW1wUHJvY2VkdXJlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RlbXBQcm9jZWR1cmVzJykpIHx8IFtdOw0KICAgICAgICAgICAgY29uc3QgdGVtcE1lZGljaW5lcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RlbXBNZWRpY2luZXMnKSkgfHwgW107DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBsb2FkaW5nDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZUxvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVSZWNvcmRCdG4nKS5kaXNhYmxlZCA9IHRydWU7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgaWYgKGlzRWRpdGluZykgew0KICAgICAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgYuG7h25oIMOhbiBoaeG7h24gY8OzDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY29yZEluZGV4ID0gbWVkaWNhbFJlY29yZHMuZmluZEluZGV4KHIgPT4gci5pZCA9PT0gY3VycmVudFJlY29yZElkKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZEluZGV4ICE9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWNhbFJlY29yZHNbcmVjb3JkSW5kZXhdID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1lZGljYWxSZWNvcmRzW3JlY29yZEluZGV4XSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRpZW50TmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5kZXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlOiBwYXJzZUludChhZ2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aWVudENvZGUsDQoJCQkJCQkJcHJpbWFyeURpYWdub3NpcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFtaW5hdGlvbkRhdGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluYXRpb25UaW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWdub3NpcywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmVzOiB0ZW1wUHJvY2VkdXJlcy5sZW5ndGggPiAwID8gdGVtcFByb2NlZHVyZXMgOiAobWVkaWNhbFJlY29yZHNbcmVjb3JkSW5kZXhdLnByb2NlZHVyZXMgfHwgW10pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGljaW5lczogdGVtcE1lZGljaW5lcy5sZW5ndGggPiAwID8gdGVtcE1lZGljaW5lcyA6IChtZWRpY2FsUmVjb3Jkc1tyZWNvcmRJbmRleF0ubWVkaWNpbmVzIHx8IFtdKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dVcERhdGU6IGZvbGxvd1VwRGF0ZSB8fCBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gVOG6oW8gYuG7h25oIMOhbiBt4bubaQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdSZWNvcmQgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3JlY29yZF8nICsgRGF0ZS5ub3coKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGllbnROYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgYWdlOiBwYXJzZUludChhZ2UpLA0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcywNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGllbnRDb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluYXRpb25EYXRlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZXhhbWluYXRpb25UaW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGlhZ25vc2lzLA0KCQkJCQkJIHByaW1hcnlEaWFnbm9zaXMsDQogICAgICAgICAgICAgICAgICAgICAgICBwcm9jZWR1cmVzOiB0ZW1wUHJvY2VkdXJlcywNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGljaW5lczogdGVtcE1lZGljaW5lcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd1VwRGF0ZTogZm9sbG93VXBEYXRlIHx8IG51bGwsDQogICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogW10sDQogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKQ0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgbWVkaWNhbFJlY29yZHMudW5zaGlmdChuZXdSZWNvcmQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBYw7NhIGThu68gbGnhu4d1IHThuqFtDQogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3RlbXBQcm9jZWR1cmVzJyk7DQogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3RlbXBNZWRpY2luZXMnKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBMxrB1IGzDqm4gRHJvcGJveA0KICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBzYXZlVG9Ecm9wYm94KCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IGdpYW8gZGnhu4duDQogICAgICAgICAgICAgICAgICAgIHJlbmRlclJlY29yZHNUYWJsZSgpOw0KICAgICAgICAgICAgICAgICAgICByZWNvcmRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoYCR7aXNFZGl0aW5nID8gJ0Phuq1wIG5o4bqtdCcgOiAnVGjDqm0nfSBi4buHbmggw6FuIHRow6BuaCBjw7RuZyFgLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgnTOG7l2kga2hpIGzGsHUnLCAnZXJyb3InKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSBsxrB1OicsIGVycm9yKTsNCiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ0zhu5dpOiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7DQogICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgICAgIC8vIOG6qG4gbG9hZGluZw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlTG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVSZWNvcmRCdG4nKS5kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy8gWMOhYyBuaOG6rW4geMOzYSBi4buHbmggw6FuDQogICAgICAgIGZ1bmN0aW9uIGNvbmZpcm1EZWxldGVSZWNvcmQoaWQpIHsNCiAgICAgICAgICAgIGN1cnJlbnRSZWNvcmRJZCA9IGlkOw0KICAgICAgICAgICAgY29uZmlybURlbGV0ZU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gWMOzYSBi4buHbmggw6FuDQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVJlY29yZCgpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1EZWxldGVCdG4nKS5kaXNhYmxlZCA9IHRydWU7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1EZWxldGVCdG4nKS5pbm5lckhUTUwgPSAnPGkgY2xhc3M9ImZhcyBmYS1zcGlubmVyIGZhLXNwaW4iPjwvaT4gxJBhbmcgeMOzYS4uLic7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgbWVkaWNhbFJlY29yZHMgPSBtZWRpY2FsUmVjb3Jkcy5maWx0ZXIocmVjb3JkID0+IHJlY29yZC5pZCAhPT0gY3VycmVudFJlY29yZElkKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBMxrB1IGzDqm4gRHJvcGJveA0KICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBzYXZlVG9Ecm9wYm94KCk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyUmVjb3Jkc1RhYmxlKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1EZWxldGVNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ8SQw6MgeMOzYSBi4buHbmggw6FuIHRow6BuaCBjw7RuZyEnLCAnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdCgnTOG7l2kga2hpIHjDs2EgYuG7h25oIMOhbicsICdlcnJvcicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTOG7l2kga2hpIHjDs2E6JywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIHNob3dUb2FzdCgnTOG7l2k6ICcgKyBlcnJvci5tZXNzYWdlLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1EZWxldGVCdG4nKS5kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtRGVsZXRlQnRuJykuaW5uZXJIVE1MID0gJ1jDs2EgYuG7h25oIMOhbic7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KDQogICAgICAgIC8vIEhp4buDbiB0aOG7iyBtb2RhbCBkaeG7hW4gYmnhur9uDQogICAgICAgZnVuY3Rpb24gc2hvd1Byb2dyZXNzTW9kYWwoaWQpIHsNCiAgICBjb25zdCByZWNvcmQgPSBtZWRpY2FsUmVjb3Jkcy5maW5kKHIgPT4gci5pZCA9PT0gaWQpOw0KICAgIGlmICghcmVjb3JkKSByZXR1cm47DQogICAgDQogICAgY3VycmVudFByb2dyZXNzUmVjb3JkSWQgPSBpZDsNCiAgICANCiAgICAvLyDEkGnhu4FuIHRow7RuZyB0aW4gYuG7h25oIG5ow6JuDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzUGF0aWVudE5hbWUnKS52YWx1ZSA9IHJlY29yZC5wYXRpZW50TmFtZTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3NQYXRpZW50QWdlJykudmFsdWUgPSByZWNvcmQuYWdlOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc1BhdGllbnRDb2RlJykudmFsdWUgPSByZWNvcmQucGF0aWVudENvZGU7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzRGlhZ25vc2lzJykudmFsdWUgPSByZWNvcmQucHJpbWFyeURpYWdub3NpcyB8fCAnJzsNCiAgICANCiAgICAvLyBIaeG7g24gdGjhu4sgZGnhu4VuIGJp4bq/bg0KICAgIGNvbnN0IHByb2dyZXNzVGFibGVCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzVGFibGVCb2R5Jyk7DQogICAgcHJvZ3Jlc3NUYWJsZUJvZHkuaW5uZXJIVE1MID0gJyc7DQogICAgDQogICAgaWYgKHJlY29yZC5wcm9ncmVzcyAmJiByZWNvcmQucHJvZ3Jlc3MubGVuZ3RoID4gMCkgew0KICAgICAgICByZWNvcmQucHJvZ3Jlc3MuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGNyZWF0ZVByb2dyZXNzUm93KGluZGV4ICsgMSwgaXRlbSk7DQogICAgICAgICAgICBwcm9ncmVzc1RhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpOw0KICAgICAgICB9KTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCByb3cgPSBjcmVhdGVQcm9ncmVzc1JvdygxKTsNCiAgICAgICAgcHJvZ3Jlc3NUYWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93KTsNCiAgICB9DQogICAgDQogICAgcHJvZ3Jlc3NNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCn0NCg0KICAgICAgICAvLyBMxrB1IGRp4buFbiBiaeG6v24NCiAgICAgIGFzeW5jIGZ1bmN0aW9uIHNhdmVQcm9ncmVzcygpIHsNCiAgICBjb25zdCByZWNvcmRJbmRleCA9IG1lZGljYWxSZWNvcmRzLmZpbmRJbmRleChyID0+IHIuaWQgPT09IGN1cnJlbnRQcm9ncmVzc1JlY29yZElkKTsNCiAgICBpZiAocmVjb3JkSW5kZXggPT09IC0xKSByZXR1cm47DQogICAgDQogICAgLy8gTOG6pXkgZOG7ryBsaeG7h3UgdOG7qyBi4bqjbmcNCiAgICBjb25zdCBwcm9ncmVzc1Jvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcHJvZ3Jlc3NUYWJsZUJvZHkgdHInKTsNCiAgICBjb25zdCBwcm9ncmVzcyA9IFtdOw0KICAgIA0KICAgIHByb2dyZXNzUm93cy5mb3JFYWNoKHJvdyA9PiB7DQogICAgICAgIGNvbnN0IGRhdGV0aW1lID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5wcm9ncmVzcy1kYXRldGltZScpLnZhbHVlOw0KICAgICAgICBjb25zdCBkZXRhaWwgPSByb3cucXVlcnlTZWxlY3RvcignLnByb2dyZXNzLWRldGFpbCcpLnZhbHVlOw0KICAgICAgICBjb25zdCBvcmRlciA9IHJvdy5xdWVyeVNlbGVjdG9yKCcucHJvZ3Jlc3Mtb3JkZXInKS52YWx1ZTsNCiAgICAgICAgDQogICAgICAgIGlmIChkYXRldGltZSkgew0KICAgICAgICAgICAgcHJvZ3Jlc3MucHVzaCh7IA0KICAgICAgICAgICAgICAgIGRhdGV0aW1lLCANCiAgICAgICAgICAgICAgICBkZXRhaWw6IGRldGFpbCB8fCAnJywgDQogICAgICAgICAgICAgICAgb3JkZXI6IG9yZGVyIHx8ICcnIA0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICANCiAgICAvLyBD4bqtcCBuaOG6rXQgZGnhu4VuIGJp4bq/bg0KICAgIG1lZGljYWxSZWNvcmRzW3JlY29yZEluZGV4XS5wcm9ncmVzcyA9IHByb2dyZXNzOw0KICAgIA0KICAgIC8vIEzGsHUgbMOqbiBEcm9wYm94DQogICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHNhdmVUb0Ryb3Bib3goKTsNCiAgICANCiAgICBpZiAoc3VjY2Vzcykgew0KICAgICAgICBwcm9ncmVzc01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgIHNob3dUb2FzdCgnxJDDoyBsxrB1IGRp4buFbiBiaeG6v24gdGjDoG5oIGPDtG5nIScsICdzdWNjZXNzJyk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgc2hvd1RvYXN0KCdM4buXaSBraGkgbMawdSBkaeG7hW4gYmnhur9uJywgJ2Vycm9yJyk7DQogICAgfQ0KfQ0KCQkNCgkJDQoJCQ0KZnVuY3Rpb24gY3JlYXRlUHJvZ3Jlc3NSb3coaW5kZXgsIGRhdGEgPSBudWxsKSB7DQogICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsNCg0KICAgIGNvbnN0IGRldGFpbFRleHQgPSBkYXRhPy5kZXRhaWwgfHwgJyc7DQogICAgY29uc3Qgb3JkZXJUZXh0ICA9IGRhdGE/Lm9yZGVyIHx8ICcnOw0KICAgIGNvbnN0IGRhdGV0aW1lVmFsdWUgPSBkYXRhPy5kYXRldGltZSB8fCAnJzsNCg0KICAgIHJvdy5pbm5lckhUTUwgPSBgDQogICAgICAgIDx0ZD4ke2luZGV4fTwvdGQ+DQogICAgICAgIDx0ZD4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRldGltZS1sb2NhbCINCiAgICAgICAgICAgICAgICAgICBjbGFzcz0icHJvZ3Jlc3MtZGF0ZXRpbWUiDQogICAgICAgICAgICAgICAgICAgdmFsdWU9IiR7ZGF0ZXRpbWVWYWx1ZX0iPg0KICAgICAgICA8L3RkPg0KDQogICAgICAgIDwhLS0gREnhu4ROIEJJ4bq+TiAtLT4NCiAgICAgICAgPHRkPg0KICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPSJwcm9ncmVzcy10ZXh0YXJlYS1pbnB1dCBwcm9ncmVzcy1kZXRhaWwiDQogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9Ik5o4bqtcCBkaeG7hW4gYmnhur9uLi4uIg0KICAgICAgICAgICAgICAgIG9uZGJsY2xpY2s9Im9wZW5Qcm9ncmVzc0RldGFpbE1vZGFsKHRoaXMsICdkZXRhaWwnKSINCiAgICAgICAgICAgID4ke2RldGFpbFRleHR9PC90ZXh0YXJlYT4NCiAgICAgICAgPC90ZD4NCg0KICAgICAgICA8IS0tIFkgTOG7hk5IIC0tPg0KICAgICAgICA8dGQ+DQogICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9InByb2dyZXNzLXRleHRhcmVhLWlucHV0IHByb2dyZXNzLW9yZGVyIg0KICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJOaOG6rXAgeSBs4buHbmguLi4iDQogICAgICAgICAgICAgICAgb25kYmxjbGljaz0ib3BlblByb2dyZXNzRGV0YWlsTW9kYWwodGhpcywgJ29yZGVyJykiDQogICAgICAgICAgICA+JHtvcmRlclRleHR9PC90ZXh0YXJlYT4NCiAgICAgICAgPC90ZD4NCg0KICAgICAgICA8dGQ+DQogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20gcmVtb3ZlLXByb2dyZXNzLXJvdyI+DQogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPg0KICAgICAgICAgICAgPC9idXR0b24+DQogICAgICAgIDwvdGQ+DQogICAgYDsNCg0KICAgIHJldHVybiByb3c7DQp9DQoNCi8vIE3hu58gbW9kYWwgbmjhuq1wIGNoaSB0aeG6v3QgZGnhu4VuIGJp4bq/bi95IGzhu4duaA0KZnVuY3Rpb24gb3BlblByb2dyZXNzRGV0YWlsTW9kYWwodGV4dGFyZWEsIHR5cGUpIHsNCiAgICBjdXJyZW50RWRpdGluZ1Byb2dyZXNzQ2VsbCA9IHsNCiAgICAgICAgdGV4dGFyZWEsDQogICAgICAgIHR5cGUNCiAgICB9Ow0KDQogICAgY29uc3QgdGl0bGUgPSB0eXBlID09PSAnZGV0YWlsJyA/ICdEaeG7hW4gYmnhur9uJyA6ICdZIGzhu4duaCc7DQoNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3NEZXRhaWxUaXRsZScpLnRleHRDb250ZW50ID0gYE5o4bqtcCAke3RpdGxlfWA7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzRGV0YWlsTGFiZWwnKS50ZXh0Q29udGVudCA9IHRpdGxlOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc0RldGFpbFRleHQnKS52YWx1ZSA9IHRleHRhcmVhLnZhbHVlOw0KDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzRGV0YWlsTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCn0NCgkJDQoJCQ0KCQkNCgkJDQoJCQ0KCQkNCg0KICAgICAgICAvLyBIaeG7g24gdGjhu4sgdMO5eSBjaOG7jW4gaW4vdOG6o2kNCiAgICAgICAgZnVuY3Rpb24gc2hvd1ByaW50T3B0aW9ucyhpZCkgew0KICAgICAgICAgICAgY3VycmVudFJlY29yZElkID0gaWQ7DQogICAgICAgICAgICBwcmludE9wdGlvbnNNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFjhu60gbMO9IGluIOG6pW4NCiAgICAgICBmdW5jdGlvbiBoYW5kbGVQcmludCh0eXBlKSB7DQogICAgY29uc3QgcmVjb3JkID0gbWVkaWNhbFJlY29yZHMuZmluZChyID0+IHIuaWQgPT09IGN1cnJlbnRSZWNvcmRJZCk7DQogICAgaWYgKCFyZWNvcmQpIHJldHVybjsNCg0KICAgIGxldCBwcmludENvbnRlbnQgPSAnJzsNCg0KICAgIHN3aXRjaCh0eXBlKSB7DQogICAgICAgIGNhc2UgJ2Z1bGwnOg0KICAgICAgICAgICAgcHJpbnRDb250ZW50ID0gZ2VuZXJhdGVGdWxsUHJpbnRDb250ZW50KHJlY29yZCk7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnbWVkaWNpbmUnOg0KICAgICAgICAgICAgcHJpbnRDb250ZW50ID0gZ2VuZXJhdGVNZWRpY2luZVByaW50Q29udGVudChyZWNvcmQpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3Byb2NlZHVyZSc6DQogICAgICAgICAgICBwcmludENvbnRlbnQgPSBnZW5lcmF0ZVByb2NlZHVyZVByaW50Q29udGVudChyZWNvcmQpOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3Byb2dyZXNzJzoNCiAgICAgICAgICAgIHByaW50Q29udGVudCA9IGdlbmVyYXRlUHJvZ3Jlc3NQcmludENvbnRlbnQocmVjb3JkKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgIH0NCg0KICAgIHByaW50QnlJZnJhbWUoYA0KICAgICAgICA8aDEgc3R5bGU9ImNvbG9yOiNGRjZCMzUiPkLhu4duaCDDoW4gLSAke3JlY29yZC5wYXRpZW50Q29kZX08L2gxPg0KICAgICAgICAke3ByaW50Q29udGVudH0NCiAgICBgKTsNCn0NCg0KICAgICAgIC8vIFThuqFvIG7hu5lpIGR1bmcgaW4gZnVsbA0KZnVuY3Rpb24gZ2VuZXJhdGVGdWxsUHJpbnRDb250ZW50KHJlY29yZCkgew0KICAgIC8vIFRoYXkgdGjhur8geHXhu5FuZyBkw7JuZyBcbiB0aMOgbmggPGJyPiDEkeG7gyBoaeG7g24gdGjhu4sgxJHDum5nDQogICAgY29uc3QgZGlhZ25vc2lzV2l0aEJyZWFrcyA9IChyZWNvcmQuZGlhZ25vc2lzIHx8ICcnKS5yZXBsYWNlKC9cbi9nLCAnPGJyPicpOw0KICAgIA0KICAgIHJldHVybiBgDQogICAgICAgIDxoMT5C4buHbmggw6FuIC0gJHtyZWNvcmQucGF0aWVudENvZGV9PC9oMT4NCiAgICAgICAgPHA+PHN0cm9uZz5I4buNIHTDqm46PC9zdHJvbmc+ICR7cmVjb3JkLnBhdGllbnROYW1lfTwvcD4NCiAgICAgICAgPHA+PHN0cm9uZz5HaeG7m2kgdMOtbmg6PC9zdHJvbmc+ICR7cmVjb3JkLmdlbmRlcn08L3A+DQogICAgICAgIDxwPjxzdHJvbmc+VHXhu5VpOjwvc3Ryb25nPiAke3JlY29yZC5hZ2V9PC9wPg0KICAgICAgICA8cD48c3Ryb25nPsSQ4buLYSBjaOG7iTo8L3N0cm9uZz4gJHtyZWNvcmQuYWRkcmVzcyB8fCAnJ308L3A+DQogICAgICAgIDxwPjxzdHJvbmc+TmfDoHkga2jDoW06PC9zdHJvbmc+ICR7Zm9ybWF0RGF0ZShyZWNvcmQuZXhhbWluYXRpb25EYXRlKX0gJHtyZWNvcmQuZXhhbWluYXRpb25UaW1lIHx8ICcnfTwvcD4NCiAgICAgICAgPHA+PHN0cm9uZz5DaOG6qW4gxJFvw6FuIGNow61uaDo8L3N0cm9uZz4gJHtyZWNvcmQucHJpbWFyeURpYWdub3NpcyB8fCAnJ308L3A+DQogICAgICAgIDxwPjxzdHJvbmc+TuG7mWkgZHVuZzo8L3N0cm9uZz48L3A+DQogICAgICAgIDxkaXYgc3R5bGU9IndoaXRlLXNwYWNlOiBwcmUtd3JhcDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogMTBweDsgbWFyZ2luOiAxMHB4IDA7IGJhY2tncm91bmQ6ICNmOWY5Zjk7Ij4NCiAgICAgICAgICAgICR7ZGlhZ25vc2lzV2l0aEJyZWFrc30NCiAgICAgICAgPC9kaXY+DQogICAgICAgIA0KICAgICAgICAke3JlY29yZC5wcm9jZWR1cmVzICYmIHJlY29yZC5wcm9jZWR1cmVzLmxlbmd0aCA+IDAgPyBgDQogICAgICAgICAgICA8aDI+VGjhu6cgdGh14bqtdDwvaDI+DQogICAgICAgICAgICA8dGFibGU+DQogICAgICAgICAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGg+U1RUPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5Uw6puIHRo4bunIHRodeG6rXQ8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkdoaSBjaMO6PC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5T4buRIGzhuqduPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5HacOhIHRp4buBbjwvdGg+DQogICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgPC90aGVhZD4NCiAgICAgICAgICAgICAgICA8dGJvZHk+DQogICAgICAgICAgICAgICAgICAgICR7cmVjb3JkLnByb2NlZHVyZXMubWFwKChwcm9jLCBpbmRleCkgPT4gYA0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2luZGV4ICsgMX08L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Byb2MubmFtZX08L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0id2hpdGUtc3BhY2U6IHByZS13cmFwOyI+JHtwcm9jLm5vdGUgfHwgJyd9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9jLnF1YW50aXR5fTwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Zm9ybWF0Q3VycmVuY3kocHJvYy5wcmljZSl9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfQ0KICAgICAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICBgIDogJyd9DQogICAgICAgIA0KICAgICAgICAke3JlY29yZC5tZWRpY2luZXMgJiYgcmVjb3JkLm1lZGljaW5lcy5sZW5ndGggPiAwID8gYA0KICAgICAgICAgICAgPGgyPlRodeG7kWM8L2gyPg0KICAgICAgICAgICAgPHRhYmxlPg0KICAgICAgICAgICAgICAgIDx0aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlNUVDwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGg+VMOqbiB0aHXhu5FjPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5T4buRIGzGsOG7o25nPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5HacOhIHRp4buBbjwvdGg+DQogICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgPC90aGVhZD4NCiAgICAgICAgICAgICAgICA8dGJvZHk+DQogICAgICAgICAgICAgICAgICAgICR7cmVjb3JkLm1lZGljaW5lcy5tYXAoKG1lZCwgaW5kZXgpID0+IGANCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtpbmRleCArIDF9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHttZWQubmFtZX08L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke21lZC5xdWFudGl0eX08L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdEN1cnJlbmN5KG1lZC5wcmljZSl9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfQ0KICAgICAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICBgIDogJyd9DQogICAgICAgIA0KICAgICAgICAke3JlY29yZC5mb2xsb3dVcERhdGUgPyBgPHA+PHN0cm9uZz5I4bq5biB0w6FpIGtow6FtOjwvc3Ryb25nPiAke2Zvcm1hdERhdGUocmVjb3JkLmZvbGxvd1VwRGF0ZSl9PC9wPmAgOiAnJ30NCiAgICBgOw0KfQ0KDQogICAgICAgIC8vIFThuqFvIG7hu5lpIGR1bmcgaW4gdGh14buRYw0KICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZU1lZGljaW5lUHJpbnRDb250ZW50KHJlY29yZCkgew0KICAgICAgICAgICAgcmV0dXJuIGANCiAgICAgICAgICAgICAgICA8aDE+xJDGoW4gdGh14buRYyAtICR7cmVjb3JkLnBhdGllbnRDb2RlfTwvaDE+DQogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5I4buNIHTDqm46PC9zdHJvbmc+ICR7cmVjb3JkLnBhdGllbnROYW1lfTwvcD4NCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPk5nw6B5IGtow6FtOjwvc3Ryb25nPiAke2Zvcm1hdERhdGUocmVjb3JkLmV4YW1pbmF0aW9uRGF0ZSl9PC9wPg0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIDxoMj7EkMahbiB0aHXhu5FjPC9oMj4NCiAgICAgICAgICAgICAgICA8dGFibGU+DQogICAgICAgICAgICAgICAgICAgIDx0aGVhZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+U1RUPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+VMOqbiB0aHXhu5FjPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+U+G7kSBsxrDhu6NuZzwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkdpw6EgdGnhu4FuPC90aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+DQogICAgICAgICAgICAgICAgICAgIDx0Ym9keT4NCiAgICAgICAgICAgICAgICAgICAgICAgICR7cmVjb3JkLm1lZGljaW5lcyAmJiByZWNvcmQubWVkaWNpbmVzLmxlbmd0aCA+IDAgPyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQubWVkaWNpbmVzLm1hcCgobWVkLCBpbmRleCkgPT4gYA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtpbmRleCArIDF9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke21lZC5uYW1lfTwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHttZWQucXVhbnRpdHl9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdEN1cnJlbmN5KG1lZC5wcmljZSl9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKSA6IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRkIGNvbHNwYW49IjQiPktow7RuZyBjw7MgdGh14buRYzwvdGQ+PC90cj4nDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgIGA7DQogICAgICAgIH0NCg0KICAgICAgICAvLyBU4bqhbyBu4buZaSBkdW5nIGluIHRo4bunIHRodeG6rXQNCiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVQcm9jZWR1cmVQcmludENvbnRlbnQocmVjb3JkKSB7DQogICAgICAgICAgICByZXR1cm4gYA0KICAgICAgICAgICAgICAgIDxoMT5UaOG7pyB0aHXhuq10IC0gJHtyZWNvcmQucGF0aWVudENvZGV9PC9oMT4NCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkjhu40gdMOqbjo8L3N0cm9uZz4gJHtyZWNvcmQucGF0aWVudE5hbWV9PC9wPg0KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+TmfDoHkga2jDoW06PC9zdHJvbmc+ICR7Zm9ybWF0RGF0ZShyZWNvcmQuZXhhbWluYXRpb25EYXRlKX08L3A+DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgPGgyPlRo4bunIHRodeG6rXQ8L2gyPg0KICAgICAgICAgICAgICAgIDx0YWJsZT4NCiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5TVFQ8L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5Uw6puIHRo4bunIHRodeG6rXQ8L3RoPg0KCQkJCQkJCTx0aD5HaGkgY2jDujwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlPhu5EgbOG6p248L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5HacOhIHRp4buBbjwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPg0KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+DQogICAgICAgICAgICAgICAgICAgICAgICAke3JlY29yZC5wcm9jZWR1cmVzICYmIHJlY29yZC5wcm9jZWR1cmVzLmxlbmd0aCA+IDAgPyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQucHJvY2VkdXJlcy5tYXAoKHByb2MsIGluZGV4KSA9PiBgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2luZGV4ICsgMX08L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cHJvYy5uYW1lfTwvdGQ+DQoJCQkJCQkJCQk8dGQ+JHtwcm9jLm5vdGUgfHwgJyd9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Byb2MucXVhbnRpdHl9PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdEN1cnJlbmN5KHByb2MucHJpY2UpfTwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYCkuam9pbignJykgOiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRyPjx0ZCBjb2xzcGFuPSI0Ij5LaMO0bmcgY8OzIHRo4bunIHRodeG6rXQ8L3RkPjwvdHI+Jw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICA8L3Rib2R5Pg0KICAgICAgICAgICAgICAgIDwvdGFibGU+DQogICAgICAgICAgICBgOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gVOG6oW8gbuG7mWkgZHVuZyBpbiBkaeG7hW4gYmnhur9uDQogICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlUHJvZ3Jlc3NQcmludENvbnRlbnQocmVjb3JkKSB7DQogICAgICAgICAgICByZXR1cm4gYA0KICAgICAgICAgICAgICAgIDxoMT5EaeG7hW4gYmnhur9uIGLhu4duaCAtICR7cmVjb3JkLnBhdGllbnRDb2RlfTwvaDE+DQogICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5I4buNIHTDqm46PC9zdHJvbmc+ICR7cmVjb3JkLnBhdGllbnROYW1lfTwvcD4NCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlR14buVaTo8L3N0cm9uZz4gJHtyZWNvcmQuYWdlfTwvcD4NCiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkNo4bqpbiDEkW/DoW46PC9zdHJvbmc+ICR7cmVjb3JkLmRpYWdub3NpcyB8fCAnJ308L3A+DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgPGgyPkRp4buFbiBiaeG6v248L2gyPg0KICAgICAgICAgICAgICAgIDx0YWJsZT4NCiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkdp4budIHbDoCBuZ8OgeTwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkRp4buFbiBiaeG6v248L3RoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5ZIGzhu4duaDwvdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPg0KICAgICAgICAgICAgICAgICAgICA8dGJvZHk+DQogICAgICAgICAgICAgICAgICAgICAgICAke3JlY29yZC5wcm9ncmVzcyAmJiByZWNvcmQucHJvZ3Jlc3MubGVuZ3RoID4gMCA/IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5wcm9ncmVzcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShpdGVtLmRhdGV0aW1lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3ZpLVZOJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZGF0ZVN0cn08L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2l0ZW0uZGV0YWlsfTwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5vcmRlciB8fCAnJ308L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcnKSA6IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHI+PHRkIGNvbHNwYW49IjQiPktow7RuZyBjw7MgZGnhu4VuIGJp4bq/bjwvdGQ+PC90cj4nDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+DQogICAgICAgICAgICAgICAgPC90YWJsZT4NCiAgICAgICAgICAgIGA7DQogICAgICAgIH0NCg0KICAgICAgIA0KDQovLyBIw6BtIHThuqFvIERPQ1ggdG/DoG4gYuG7mSBi4buHbmggw6FuIC0gVOG6pFQgQ+G6oiBUUk9ORyBN4buYVCBTRUNUSU9ODQphc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUZ1bGxEb2N4KHJlY29yZCkgew0KICAgIGNvbnN0IHsgRG9jdW1lbnQsIFBhcmFncmFwaCwgVGV4dFJ1biwgVGFibGUsIFRhYmxlUm93LCBUYWJsZUNlbGwsIEhlYWRpbmdMZXZlbCwgQWxpZ25tZW50VHlwZSB9ID0gZG9jeDsNCiAgICANCiAgICBjb25zdCBjaGlsZHJlbiA9IFsNCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICB0ZXh0OiAiQuG7hk5IIMOBTiDEkEnhu4ZOIFThu6wiLA0KICAgICAgICAgICAgaGVhZGluZzogSGVhZGluZ0xldmVsLkhFQURJTkdfMSwNCiAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50VHlwZS5DRU5URVIsDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMDAgfQ0KICAgICAgICB9KSwNCiAgICAgICAgDQogICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7IHRleHQ6ICJNw6MgYuG7h25oIG5ow6JuOiAiLCBib2xkOiB0cnVlIH0pLA0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHJlY29yZC5wYXRpZW50Q29kZSkNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMCB9DQogICAgICAgIH0pLA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogIkjhu40gdMOqbjogIiwgYm9sZDogdHJ1ZSB9KSwNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bihyZWNvcmQucGF0aWVudE5hbWUpDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAgfQ0KICAgICAgICB9KSwNCiAgICAgICAgDQogICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7IHRleHQ6ICJHaeG7m2kgdMOtbmg6ICIsIGJvbGQ6IHRydWUgfSksDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4ocmVjb3JkLmdlbmRlcikNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMCB9DQogICAgICAgIH0pLA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogIlR14buVaTogIiwgYm9sZDogdHJ1ZSB9KSwNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bihyZWNvcmQuYWdlLnRvU3RyaW5nKCkpDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAgfQ0KICAgICAgICB9KSwNCiAgICAgICAgDQogICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7IHRleHQ6ICLEkOG7i2EgY2jhu4k6ICIsIGJvbGQ6IHRydWUgfSksDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4ocmVjb3JkLmFkZHJlc3MgfHwgJ0tow7RuZyBjw7MnKQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDIwIH0NCiAgICAgICAgfSksDQogICAgICAgIA0KICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiAiTmfDoHkga2jDoW06ICIsIGJvbGQ6IHRydWUgfSksDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oYCR7Zm9ybWF0RGF0ZShyZWNvcmQuZXhhbWluYXRpb25EYXRlKX0gJHtyZWNvcmQuZXhhbWluYXRpb25UaW1lIHx8ICcnfWApDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAgfQ0KICAgICAgICB9KSwNCiAgICAgICAgDQogICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7IHRleHQ6ICJDaOG6qW4gxJFvw6FuIGNow61uaDogIiwgYm9sZDogdHJ1ZSB9KSwNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bihyZWNvcmQucHJpbWFyeURpYWdub3NpcyB8fCAnJykNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiA0MCB9DQogICAgICAgIH0pLA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICB0ZXh0OiAiTuG7mEkgRFVORyBC4buGTkggw4FOIiwNCiAgICAgICAgICAgIGhlYWRpbmc6IEhlYWRpbmdMZXZlbC5IRUFESU5HXzIsDQogICAgICAgICAgICBzcGFjaW5nOiB7IGJlZm9yZTogNDAsIGFmdGVyOiAyMCB9DQogICAgICAgIH0pDQogICAgXTsNCiAgICANCiAgICAvLyBUaMOqbSBu4buZaSBkdW5nIGLhu4duaCDDoW4gduG7m2kgWFXhu5BORyBEw5JORyDEkMOaTkcgQ8OBQ0gNCiAgICBpZiAocmVjb3JkLmRpYWdub3Npcykgew0KICAgICAgICAvLyBUw6FjaCBu4buZaSBkdW5nIHRow6BuaCBjw6FjIGTDsm5nDQogICAgICAgIGNvbnN0IGxpbmVzID0gcmVjb3JkLmRpYWdub3Npcy5zcGxpdCgnXG4nKTsNCiAgICAgICAgDQogICAgICAgIC8vIFRow6ptIHThu6tuZyBkw7JuZyBuaMawIG3hu5l0IFBhcmFncmFwaCByacOqbmcNCiAgICAgICAgbGluZXMuZm9yRWFjaChsaW5lID0+IHsNCiAgICAgICAgICAgIGlmIChsaW5lLnRyaW0oKSAhPT0gJycpIHsNCiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGxpbmUsDQogICAgICAgICAgICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMCB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgICAgICAvLyBUaMOqbSBraG/huqNuZyBjw6FjaCBzYXUgcGjhuqduIG7hu5lpIGR1bmcNCiAgICAgICAgY2hpbGRyZW4ucHVzaCgNCiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgICAgIHRleHQ6ICcnLA0KICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDQwIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgY2hpbGRyZW4ucHVzaCgNCiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgICAgIHRleHQ6ICJLaMO0bmcgY8OzIG7hu5lpIGR1bmciLA0KICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDQwIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICk7DQogICAgfQ0KICAgIA0KICAgIC8vIFRow6ptIHRo4bunIHRodeG6rXQgbuG6v3UgY8OzDQogICAgaWYgKHJlY29yZC5wcm9jZWR1cmVzICYmIHJlY29yZC5wcm9jZWR1cmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY2hpbGRyZW4ucHVzaCgNCiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgICAgIHRleHQ6ICJUSOG7piBUSFXhuqxUIiwNCiAgICAgICAgICAgICAgICBoZWFkaW5nOiBIZWFkaW5nTGV2ZWwuSEVBRElOR18yLA0KICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYmVmb3JlOiAyMCwgYWZ0ZXI6IDEwIH0NCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgDQogICAgICAgICAgICBuZXcgVGFibGUoew0KICAgICAgICAgICAgICAgIHJvd3M6IFsNCiAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlUm93KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4oeyB0ZXh0OiAiU1RUIiwgYm9sZDogdHJ1ZSB9KV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKHsgdGV4dDogIlTDqm4gdGjhu6cgdGh14bqtdCIsIGJvbGQ6IHRydWUgfSldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6ICJHaGkgY2jDuiIsIGJvbGQ6IHRydWUgfSldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6ICJT4buRIGzhuqduIiwgYm9sZDogdHJ1ZSB9KV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKHsgdGV4dDogIkdpw6EgdGnhu4FuIiwgYm9sZDogdHJ1ZSB9KV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAuLi5yZWNvcmQucHJvY2VkdXJlcy5tYXAoKHByb2MsIGluZGV4KSA9PiANCiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZVJvdyh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCgoaW5kZXggKyAxKS50b1N0cmluZygpKV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgocHJvYy5uYW1lKV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgocHJvYy5ub3RlIHx8ICctJyldIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHByb2MucXVhbnRpdHkudG9TdHJpbmcoKSldIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKGZvcm1hdEN1cnJlbmN5KHByb2MucHJpY2UpKV0gfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgKTsNCiAgICB9DQogICAgDQogICAgLy8gVGjDqm0gdGh14buRYyBu4bq/dSBjw7MNCiAgICBpZiAocmVjb3JkLm1lZGljaW5lcyAmJiByZWNvcmQubWVkaWNpbmVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgY2hpbGRyZW4ucHVzaCgNCiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgICAgIHRleHQ6ICLEkMagTiBUSFXhu5BDIiwNCiAgICAgICAgICAgICAgICBoZWFkaW5nOiBIZWFkaW5nTGV2ZWwuSEVBRElOR18yLA0KICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYmVmb3JlOiAyMCwgYWZ0ZXI6IDEwIH0NCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgDQogICAgICAgICAgICBuZXcgVGFibGUoew0KICAgICAgICAgICAgICAgIHJvd3M6IFsNCiAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlUm93KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4oeyB0ZXh0OiAiU1RUIiwgYm9sZDogdHJ1ZSB9KV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKHsgdGV4dDogIlTDqm4gdGh14buRYyIsIGJvbGQ6IHRydWUgfSldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6ICJT4buRIGzGsOG7o25nIiwgYm9sZDogdHJ1ZSB9KV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKHsgdGV4dDogIkdpw6EgdGnhu4FuIiwgYm9sZDogdHJ1ZSB9KV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAuLi5yZWNvcmQubWVkaWNpbmVzLm1hcCgobWVkLCBpbmRleCkgPT4gDQogICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVSb3coew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoKGluZGV4ICsgMSkudG9TdHJpbmcoKSldIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKG1lZC5uYW1lKV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgobWVkLnF1YW50aXR5LnRvU3RyaW5nKCkpXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaChmb3JtYXRDdXJyZW5jeShtZWQucHJpY2UpKV0gfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgKTsNCiAgICB9DQogICAgDQogICAgLy8gVGjDqm0gZGnhu4VuIGJp4bq/biBu4bq/dSBjw7MNCiAgICBpZiAocmVjb3JkLnByb2dyZXNzICYmIHJlY29yZC5wcm9ncmVzcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGNoaWxkcmVuLnB1c2goDQogICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgICAgICB0ZXh0OiAiREnhu4ROIEJJ4bq+TiBC4buGTkgiLA0KICAgICAgICAgICAgICAgIGhlYWRpbmc6IEhlYWRpbmdMZXZlbC5IRUFESU5HXzIsDQogICAgICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwLCBhZnRlcjogMTAgfQ0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICANCiAgICAgICAgICAgIG5ldyBUYWJsZSh7DQogICAgICAgICAgICAgICAgcm93czogWw0KICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVSb3coew0KICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6ICJTVFQiLCBib2xkOiB0cnVlIH0pXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4oeyB0ZXh0OiAiVGjhu51pIGdpYW4iLCBib2xkOiB0cnVlIH0pXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4oeyB0ZXh0OiAiRGnhu4VuIGJp4bq/biIsIGJvbGQ6IHRydWUgfSldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6ICJZIGzhu4duaCIsIGJvbGQ6IHRydWUgfSldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgLi4ucmVjb3JkLnByb2dyZXNzLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShpdGVtLmRhdGV0aW1lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVTdHIgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCd2aS1WTicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUYWJsZVJvdyh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCgoaW5kZXggKyAxKS50b1N0cmluZygpKV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoZGF0ZVN0cildIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBpdGVtLmRldGFpbCA/IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBY4butIGzDvSB4deG7kW5nIGTDsm5nIGNobyBkaeG7hW4gYmnhur9uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGV0YWlsLnNwbGl0KCdcbicpLm1hcChsaW5lID0+IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiBsaW5lLCBicmVhazogMSB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogW25ldyBUZXh0UnVuKCcnKV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGl0ZW0ub3JkZXIgPyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWOG7rSBsw70geHXhu5FuZyBkw7JuZyBjaG8geSBs4buHbmgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcmRlci5zcGxpdCgnXG4nKS5tYXAobGluZSA9PiANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogbGluZSwgYnJlYWs6IDEgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IFtuZXcgVGV4dFJ1bignJyldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgKTsNCiAgICB9DQogICAgDQogICAgLy8gVGjDqm0gaOG6uW4gdMOhaSBraMOhbSBu4bq/dSBjw7MNCiAgICBpZiAocmVjb3JkLmZvbGxvd1VwRGF0ZSkgew0KICAgICAgICBjaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiAiSOG6uW4gdMOhaSBraMOhbTogIiwgYm9sZDogdHJ1ZSB9KSwNCiAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oZm9ybWF0RGF0ZShyZWNvcmQuZm9sbG93VXBEYXRlKSkNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYmVmb3JlOiAyMCwgYWZ0ZXI6IDQwIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICk7DQogICAgfQ0KICAgIA0KICAgIC8vIFRow6ptIGZvb3Rlcg0KICAgIGNoaWxkcmVuLnB1c2goDQogICAgDQogICAgICAgIA0KICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oYE5nw6B5IHh14bqldCBi4buHbmggw6FuOiAke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCd2aS1WTicpfWApDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLlJJR0hULA0KICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwIH0NCiAgICAgICAgfSkNCiAgICApOw0KICAgIA0KICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N1bWVudCh7DQogICAgICAgIHNlY3Rpb25zOiBbew0KICAgICAgICAgICAgcHJvcGVydGllczoge30sDQogICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4NCiAgICAgICAgfV0NCiAgICB9KTsNCiAgICANCiAgICAvLyBU4bqhbyBibG9iDQogICAgY29uc3QgYmxvYiA9IGF3YWl0IGRvY3guUGFja2VyLnRvQmxvYihkb2MpOw0KICAgIHJldHVybiBibG9iOw0KfQ0KDQoNCi8vIEjDoG0gdOG6oW8gRE9DWCDEkcahbiB0aHXhu5FjDQovLyBIw6BtIHThuqFvIERPQ1ggxJHGoW4gdGh14buRYyAtIHPhu61hIHBo4bqnbiB4deG7kW5nIGTDsm5nIHRyb25nIHRhYmxlIGNlbGwNCmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlTWVkaWNpbmVEb2N4KHJlY29yZCkgew0KICAgIGNvbnN0IHsgRG9jdW1lbnQsIFBhcmFncmFwaCwgVGV4dFJ1biwgVGFibGUsIFRhYmxlUm93LCBUYWJsZUNlbGwsIEhlYWRpbmdMZXZlbCwgQWxpZ25tZW50VHlwZSB9ID0gZG9jeDsNCiAgICANCiAgICBjb25zdCBjaGlsZHJlbiA9IFsNCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICB0ZXh0OiAixJDGoE4gVEhV4buQQyIsDQogICAgICAgICAgICBoZWFkaW5nOiBIZWFkaW5nTGV2ZWwuSEVBRElOR18xLA0KICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLkNFTlRFUiwNCiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDgwIH0NCiAgICAgICAgfSksDQogICAgICAgIA0KICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiAiTcOjIGLhu4duaCBuaMOibjogIiwgYm9sZDogdHJ1ZSB9KSwNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bihyZWNvcmQucGF0aWVudENvZGUpDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAgfQ0KICAgICAgICB9KSwNCiAgICAgICAgDQogICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7IHRleHQ6ICJI4buNIHTDqm46ICIsIGJvbGQ6IHRydWUgfSksDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4ocmVjb3JkLnBhdGllbnROYW1lKQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwIH0NCiAgICAgICAgfSksDQogICAgICAgIA0KICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiAiTmfDoHkga2jDoW06ICIsIGJvbGQ6IHRydWUgfSksDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oZm9ybWF0RGF0ZShyZWNvcmQuZXhhbWluYXRpb25EYXRlKSkNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAzMCB9DQogICAgICAgIH0pDQogICAgXTsNCiAgICANCiAgICAvLyBUaMOqbSBi4bqjbmcgdGh14buRYw0KICAgIGlmIChyZWNvcmQubWVkaWNpbmVzICYmIHJlY29yZC5tZWRpY2luZXMubGVuZ3RoID4gMCkgew0KICAgICAgICBjaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgbmV3IFRhYmxlKHsNCiAgICAgICAgICAgICAgICByb3dzOiBbDQogICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZVJvdyh7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKHsgdGV4dDogIlNUVCIsIGJvbGQ6IHRydWUgfSldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6ICJUw6puIHRodeG7kWMiLCBib2xkOiB0cnVlIH0pXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFRleHRSdW4oeyB0ZXh0OiAiU+G7kSBsxrDhu6NuZyIsIGJvbGQ6IHRydWUgfSldDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6ICLEkMahbiBnacOhIiwgYm9sZDogdHJ1ZSB9KV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKHsgdGV4dDogIlRow6BuaCB0aeG7gW4iLCBib2xkOiB0cnVlIH0pXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV0gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIC4uLnJlY29yZC5tZWRpY2luZXMubWFwKChtZWQsIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9IChtZWQucHJpY2UgfHwgMCkgKiAobWVkLnF1YW50aXR5IHx8IDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUYWJsZVJvdyh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCgoaW5kZXggKyAxKS50b1N0cmluZygpKV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IG1lZC5uYW1lID8gDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFjhu60gbMO9IHh14buRbmcgZMOybmcgY2hvIHTDqm4gdGh14buRYyBu4bq/dSBjw7MgXG4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkLm5hbWUuc3BsaXQoJ1xuJykubWFwKChsaW5lLCBpLCBhcnIpID0+IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsaW5lLCANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazogaSA8IGFyci5sZW5ndGggLSAxID8gMSA6IDAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogW25ldyBUZXh0UnVuKCcnKV0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXSANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgobWVkLnF1YW50aXR5LnRvU3RyaW5nKCkpXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaChmb3JtYXRDdXJyZW5jeShtZWQucHJpY2UpKV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoZm9ybWF0Q3VycmVuY3kodG90YWwpKV0gfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9KQ0KICAgICAgICApOw0KICAgICAgICANCiAgICAgICAgLy8gVGjDqm0gdOG7lW5nIGPhu5luZw0KICAgICAgICBjb25zdCBncmFuZFRvdGFsID0gcmVjb3JkLm1lZGljaW5lcy5yZWR1Y2UoKHN1bSwgbWVkKSA9PiANCiAgICAgICAgICAgIHN1bSArICgobWVkLnByaWNlIHx8IDApICogKG1lZC5xdWFudGl0eSB8fCAwKSksIDApOw0KICAgICAgICANCiAgICAgICAgY2hpbGRyZW4ucHVzaCgNCiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogIlThu5RORyBD4buYTkc6ICIsIGJvbGQ6IHRydWUsIHNpemU6IDI0IH0pLA0KICAgICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7IHRleHQ6IGZvcm1hdEN1cnJlbmN5KGdyYW5kVG90YWwpLCBib2xkOiB0cnVlLCBzaXplOiAyNCB9KQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLlJJR0hULA0KICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYmVmb3JlOiAyMCwgYWZ0ZXI6IDQwIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgY2hpbGRyZW4ucHVzaCgNCiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgICAgIHRleHQ6ICJLaMO0bmcgY8OzIHRodeG7kWMgdHJvbmcgxJHGoW4iLA0KICAgICAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50VHlwZS5DRU5URVIsDQogICAgICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICk7DQogICAgfQ0KICAgIA0KICAgIC8vIFRow6ptIGZvb3Rlcg0KICAgIGNoaWxkcmVuLnB1c2goDQogICAgIA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKGBOZ8OgeSB4deG6pXQgxJHGoW46ICR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ3ZpLVZOJyl9YCkNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGUuUklHSFQNCiAgICAgICAgfSkNCiAgICApOw0KICAgIA0KICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N1bWVudCh7DQogICAgICAgIHNlY3Rpb25zOiBbew0KICAgICAgICAgICAgcHJvcGVydGllczoge30sDQogICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4NCiAgICAgICAgfV0NCiAgICB9KTsNCiAgICANCiAgICBjb25zdCBibG9iID0gYXdhaXQgZG9jeC5QYWNrZXIudG9CbG9iKGRvYyk7DQogICAgcmV0dXJuIGJsb2I7DQp9DQoNCg0KLy8gSMOgbSB04bqhbyBET0NYIHRo4bunIHRodeG6rXQNCmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUHJvY2VkdXJlRG9jeChyZWNvcmQpIHsNCiAgICBjb25zdCB7IERvY3VtZW50LCBQYXJhZ3JhcGgsIFRleHRSdW4sIFRhYmxlLCBUYWJsZVJvdywgVGFibGVDZWxsLCBIZWFkaW5nTGV2ZWwsIEFsaWdubWVudFR5cGUgfSA9IGRvY3g7DQogICAgDQogICAgY29uc3QgY2hpbGRyZW4gPSBbDQogICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgdGV4dDogIlRI4bumIFRIVeG6rFQiLA0KICAgICAgICAgICAgaGVhZGluZzogSGVhZGluZ0xldmVsLkhFQURJTkdfMSwNCiAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50VHlwZS5DRU5URVIsDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiA4MCB9DQogICAgICAgIH0pLA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogIk3DoyBi4buHbmggbmjDom46ICIsIGJvbGQ6IHRydWUgfSksDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4ocmVjb3JkLnBhdGllbnRDb2RlKQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwIH0NCiAgICAgICAgfSksDQogICAgICAgIA0KICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiAiSOG7jSB0w6puOiAiLCBib2xkOiB0cnVlIH0pLA0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHJlY29yZC5wYXRpZW50TmFtZSkNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMCB9DQogICAgICAgIH0pLA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogIk5nw6B5IGtow6FtOiAiLCBib2xkOiB0cnVlIH0pLA0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKGZvcm1hdERhdGUocmVjb3JkLmV4YW1pbmF0aW9uRGF0ZSkpDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMzAgfQ0KICAgICAgICB9KQ0KICAgIF07DQogICAgDQogICAgLy8gVGjDqm0gYuG6o25nIHRo4bunIHRodeG6rXQNCiAgICBpZiAocmVjb3JkLnByb2NlZHVyZXMgJiYgcmVjb3JkLnByb2NlZHVyZXMubGVuZ3RoID4gMCkgew0KICAgICAgICBjaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgbmV3IFRhYmxlKHsNCiAgICAgICAgICAgICAgICByb3dzOiBbDQogICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZVJvdyh7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoeyB0ZXh0OiAiU1RUIiwgYm9sZDogdHJ1ZSB9KV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IHRleHQ6ICJUw6puIHRo4bunIHRodeG6rXQiLCBib2xkOiB0cnVlIH0pXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgdGV4dDogIkdoaSBjaMO6IiwgYm9sZDogdHJ1ZSB9KV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IHRleHQ6ICJT4buRIGzhuqduIiwgYm9sZDogdHJ1ZSB9KV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IHRleHQ6ICLEkMahbiBnacOhIiwgYm9sZDogdHJ1ZSB9KV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IHRleHQ6ICJUaMOgbmggdGnhu4FuIiwgYm9sZDogdHJ1ZSB9KV0gfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIC4uLnJlY29yZC5wcm9jZWR1cmVzLm1hcCgocHJvYywgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gKHByb2MucHJpY2UgfHwgMCkgKiAocHJvYy5xdWFudGl0eSB8fCAwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGFibGVSb3coew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoKGluZGV4ICsgMSkudG9TdHJpbmcoKSldIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHByb2MubmFtZSldIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHByb2Mubm90ZSB8fCAnLScpXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaChwcm9jLnF1YW50aXR5LnRvU3RyaW5nKCkpXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaChmb3JtYXRDdXJyZW5jeShwcm9jLnByaWNlKSldIH0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKGZvcm1hdEN1cnJlbmN5KHRvdGFsKSldIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgKTsNCiAgICAgICAgDQogICAgICAgIC8vIFRow6ptIHThu5VuZyBj4buZbmcNCiAgICAgICAgY29uc3QgZ3JhbmRUb3RhbCA9IHJlY29yZC5wcm9jZWR1cmVzLnJlZHVjZSgoc3VtLCBwcm9jKSA9PiANCiAgICAgICAgICAgIHN1bSArICgocHJvYy5wcmljZSB8fCAwKSAqIChwcm9jLnF1YW50aXR5IHx8IDApKSwgMCk7DQogICAgICAgIA0KICAgICAgICBjaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiAiVOG7lE5HIEPhu5hORzogIiwgYm9sZDogdHJ1ZSwgc2l6ZTogMjQgfSksDQogICAgICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogZm9ybWF0Q3VycmVuY3koZ3JhbmRUb3RhbCksIGJvbGQ6IHRydWUsIHNpemU6IDI0IH0pDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGUuUklHSFQsDQogICAgICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwLCBhZnRlcjogNDAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBjaGlsZHJlbi5wdXNoKA0KICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICAgICAgdGV4dDogIktow7RuZyBjw7MgdGjhu6cgdGh14bqtdCIsDQogICAgICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLkNFTlRFUiwNCiAgICAgICAgICAgICAgICBzcGFjaW5nOiB7IGJlZm9yZTogMjAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgKTsNCiAgICB9DQogICAgDQogICAgLy8gVGjDqm0gZm9vdGVyDQogICAgY2hpbGRyZW4ucHVzaCgNCiAgICAgDQogICAgICAgIA0KICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oYE5nw6B5IHh14bqldDogJHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygndmktVk4nKX1gKQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50VHlwZS5SSUdIVA0KICAgICAgICB9KQ0KICAgICk7DQogICAgDQogICAgY29uc3QgZG9jID0gbmV3IERvY3VtZW50KHsNCiAgICAgICAgc2VjdGlvbnM6IFt7DQogICAgICAgICAgICBwcm9wZXJ0aWVzOiB7fSwNCiAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbg0KICAgICAgICB9XQ0KICAgIH0pOw0KICAgIA0KICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBkb2N4LlBhY2tlci50b0Jsb2IoZG9jKTsNCiAgICByZXR1cm4gYmxvYjsNCn0NCg0KLy8gSMOgbSB04bqhbyBET0NYIGRp4buFbiBiaeG6v24NCmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUHJvZ3Jlc3NEb2N4KHJlY29yZCkgew0KICAgIGNvbnN0IHsgRG9jdW1lbnQsIFBhcmFncmFwaCwgVGV4dFJ1biwgVGFibGUsIFRhYmxlUm93LCBUYWJsZUNlbGwsIEhlYWRpbmdMZXZlbCwgQWxpZ25tZW50VHlwZSB9ID0gZG9jeDsNCiAgICANCiAgICBjb25zdCBjaGlsZHJlbiA9IFsNCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICB0ZXh0OiAiREnhu4ROIEJJ4bq+TiBC4buGTkgiLA0KICAgICAgICAgICAgaGVhZGluZzogSGVhZGluZ0xldmVsLkhFQURJTkdfMSwNCiAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50VHlwZS5DRU5URVIsDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiA4MCB9DQogICAgICAgIH0pLA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogIk3DoyBi4buHbmggbmjDom46ICIsIGJvbGQ6IHRydWUgfSksDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4ocmVjb3JkLnBhdGllbnRDb2RlKQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwIH0NCiAgICAgICAgfSksDQogICAgICAgIA0KICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oeyB0ZXh0OiAiSOG7jSB0w6puOiAiLCBib2xkOiB0cnVlIH0pLA0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHJlY29yZC5wYXRpZW50TmFtZSkNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMCB9DQogICAgICAgIH0pLA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHsgdGV4dDogIlR14buVaTogIiwgYm9sZDogdHJ1ZSB9KSwNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bihyZWNvcmQuYWdlLnRvU3RyaW5nKCkpDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAgfQ0KICAgICAgICB9KSwNCiAgICAgICAgDQogICAgICAgIG5ldyBQYXJhZ3JhcGgoew0KICAgICAgICAgICAgY2hpbGRyZW46IFsNCiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7IHRleHQ6ICJDaOG6qW4gxJFvw6FuOiAiLCBib2xkOiB0cnVlIH0pLA0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHJlY29yZC5wcmltYXJ5RGlhZ25vc2lzIHx8IHJlY29yZC5kaWFnbm9zaXMgfHwgJycpDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMzAgfQ0KICAgICAgICB9KQ0KICAgIF07DQogICAgDQogICAgLy8gVGjDqm0gYuG6o25nIGRp4buFbiBiaeG6v24NCiAgICBpZiAocmVjb3JkLnByb2dyZXNzICYmIHJlY29yZC5wcm9ncmVzcy5sZW5ndGggPiAwKSB7DQogICAgICAgIGNoaWxkcmVuLnB1c2goDQogICAgICAgICAgICBuZXcgVGFibGUoew0KICAgICAgICAgICAgICAgIHJvd3M6IFsNCiAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlUm93KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IHRleHQ6ICJTVFQiLCBib2xkOiB0cnVlIH0pXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKHsgdGV4dDogIlRo4budaSBnaWFuIiwgYm9sZDogdHJ1ZSB9KV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IHRleHQ6ICJEaeG7hW4gYmnhur9uIiwgYm9sZDogdHJ1ZSB9KV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaCh7IHRleHQ6ICJZIGzhu4duaCIsIGJvbGQ6IHRydWUgfSldIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICAgICAuLi5yZWNvcmQucHJvZ3Jlc3MubWFwKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGl0ZW0uZGF0ZXRpbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3ZpLVZOJyk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRhYmxlUm93KHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVGFibGVDZWxsKHsgY2hpbGRyZW46IFtuZXcgUGFyYWdyYXBoKChpbmRleCArIDEpLnRvU3RyaW5nKCkpXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaChkYXRlU3RyKV0gfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwoeyBjaGlsZHJlbjogW25ldyBQYXJhZ3JhcGgoaXRlbS5kZXRhaWwgfHwgJycpXSB9KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFRhYmxlQ2VsbCh7IGNoaWxkcmVuOiBbbmV3IFBhcmFncmFwaChpdGVtLm9yZGVyIHx8ICcnKV0gfSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9KQ0KICAgICAgICApOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGNoaWxkcmVuLnB1c2goDQogICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHsNCiAgICAgICAgICAgICAgICB0ZXh0OiAiS2jDtG5nIGPDsyBkaeG7hW4gYmnhur9uIiwNCiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGUuQ0VOVEVSLA0KICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYmVmb3JlOiAyMCB9DQogICAgICAgICAgICB9KQ0KICAgICAgICApOw0KICAgIH0NCiAgICANCiAgICAvLyBUaMOqbSBmb290ZXINCiAgICBjaGlsZHJlbi5wdXNoKA0KICAgIA0KICAgICAgICANCiAgICAgICAgbmV3IFBhcmFncmFwaCh7DQogICAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKGBOZ8OgeSB4deG6pXQ6ICR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoJ3ZpLVZOJyl9YCkNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGUuUklHSFQNCiAgICAgICAgfSkNCiAgICApOw0KICAgIA0KICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N1bWVudCh7DQogICAgICAgIHNlY3Rpb25zOiBbew0KICAgICAgICAgICAgcHJvcGVydGllczoge30sDQogICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4NCiAgICAgICAgfV0NCiAgICB9KTsNCiAgICANCiAgICBjb25zdCBibG9iID0gYXdhaXQgZG9jeC5QYWNrZXIudG9CbG9iKGRvYyk7DQogICAgcmV0dXJuIGJsb2I7DQp9DQoNCgkgICAvLyBY4butIGzDvSB04bqjaSB4deG7kW5nDQogICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRG93bmxvYWQodHlwZSkgew0KICAgIGNvbnN0IHJlY29yZCA9IG1lZGljYWxSZWNvcmRzLmZpbmQociA9PiByLmlkID09PSBjdXJyZW50UmVjb3JkSWQpOw0KICAgIGlmICghcmVjb3JkKSB7DQogICAgICAgIHNob3dUb2FzdCgnS2jDtG5nIHTDrG0gdGjhuqV5IGLhu4duaCDDoW4hJywgJ2Vycm9yJyk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgDQogICAgdHJ5IHsNCiAgICAgICAgLy8gSGnhu4NuIHRo4buLIGxvYWRpbmcNCiAgICAgICAgc2hvd1RvYXN0KCfEkGFuZyB04bqhbyBmaWxlIERPQ1guLi4nLCAnc3VjY2VzcycpOw0KICAgICAgICANCiAgICAgICAgbGV0IGRvY3hDb250ZW50Ow0KICAgICAgICBsZXQgZmlsZU5hbWU7DQogICAgICAgIA0KICAgICAgICBzd2l0Y2godHlwZSkgew0KICAgICAgICAgICAgY2FzZSAnZnVsbCc6DQogICAgICAgICAgICAgICAgZG9jeENvbnRlbnQgPSBhd2FpdCBnZW5lcmF0ZUZ1bGxEb2N4KHJlY29yZCk7DQogICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBgQkVOSF9BTl8ke3JlY29yZC5wYXRpZW50Q29kZX1fJHtyZWNvcmQucGF0aWVudE5hbWV9LmRvY3hgOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAnbWVkaWNpbmUnOg0KICAgICAgICAgICAgICAgIGRvY3hDb250ZW50ID0gYXdhaXQgZ2VuZXJhdGVNZWRpY2luZURvY3gocmVjb3JkKTsNCiAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IGBET05fVEhVT0NfJHtyZWNvcmQucGF0aWVudENvZGV9XyR7cmVjb3JkLnBhdGllbnROYW1lfS5kb2N4YDsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgJ3Byb2NlZHVyZSc6DQogICAgICAgICAgICAgICAgZG9jeENvbnRlbnQgPSBhd2FpdCBnZW5lcmF0ZVByb2NlZHVyZURvY3gocmVjb3JkKTsNCiAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IGBUSFVfVEhVQVRfJHtyZWNvcmQucGF0aWVudENvZGV9XyR7cmVjb3JkLnBhdGllbnROYW1lfS5kb2N4YDsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgJ3Byb2dyZXNzJzoNCiAgICAgICAgICAgICAgICBkb2N4Q29udGVudCA9IGF3YWl0IGdlbmVyYXRlUHJvZ3Jlc3NEb2N4KHJlY29yZCk7DQogICAgICAgICAgICAgICAgZmlsZU5hbWUgPSBgRElFTl9CSUVOXyR7cmVjb3JkLnBhdGllbnRDb2RlfV8ke3JlY29yZC5wYXRpZW50TmFtZX0uZG9jeGA7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTG/huqFpIHThuqNpIGtow7RuZyBo4bujcCBs4buHJyk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIFThuqNpIGZpbGUgeHXhu5FuZw0KICAgICAgICBjb25zdCBibG9iID0gZG9jeENvbnRlbnQ7DQogICAgICAgIHNhdmVBcyhibG9iLCBmaWxlTmFtZSk7DQogICAgICAgIA0KICAgICAgICBzaG93VG9hc3QoYMSQw6MgdOG6o2kgeHXhu5FuZyBmaWxlICR7ZmlsZU5hbWV9IWAsICdzdWNjZXNzJyk7DQogICAgICAgIA0KICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0zhu5dpIGtoaSB04bqhbyBET0NYOicsIGVycm9yKTsNCiAgICAgICAgc2hvd1RvYXN0KCdM4buXaSBraGkgdOG6oW8gZmlsZTogJyArIGVycm9yLm1lc3NhZ2UsICdlcnJvcicpOw0KICAgIH0NCn0NCg0KICAgICAgICAvLyBLaOG7n2kgdOG6oW8gY8OhYyBz4buxIGtp4buHbg0KICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7DQoJCQ0KICAgICAgICAgICAgLy8gVOG6o2kgZOG7ryBsaeG7h3UgdOG7qyBEcm9wYm94IGtoaSBraOG7n2kgxJHhu5luZw0KICAgICAgICAgICAgbG9hZERhdGEoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gU+G7sSBraeG7h24gY2hvIG1vZGFsIGLhu4duaCDDoW4gY2jDrW5oDQogICAgICAgICAgICBuZXdSZWNvcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93TmV3UmVjb3JkTW9kYWwpOw0KICAgICAgICAgICAgLy8gVGjDqm0gdsOgbyBz4buxIGtp4buHbiDEkcOzbmcgbW9kYWwNCmNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgcmVjb3JkTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICBjdXJyZW50RWRpdGluZ1JlY29yZElkID0gbnVsbDsgLy8gVGjDqm0gZMOybmcgbsOgeQ0KfSk7DQoNCmNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICByZWNvcmRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIGN1cnJlbnRFZGl0aW5nUmVjb3JkSWQgPSBudWxsOyAvLyBUaMOqbSBkw7JuZyBuw6B5DQp9KTsNCiAgICAgICAgICAgIHNhdmVSZWNvcmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzYXZlUmVjb3JkKTsNCiAgICAgICAgICAgIA0KCQkJDQoJCQkNCgkJCQ0KCQkJDQoJCQkNCgkJCQ0KICAgICAgICAgICAgLy8gU+G7sSBraeG7h24gdMOsbSBraeG6v20NCiAgICAgICAgICAgIHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlYXJjaFJlY29yZHMpOw0KICAgICAgICAgICAgcmVzZXRTZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXNldFNlYXJjaCk7DQogICAgICAgICAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChlKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSBzZWFyY2hSZWNvcmRzKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gU+G7sSBraeG7h24gY2hvIG1vZGFsIHjDoWMgbmjhuq1uIHjDs2ENCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZS1kZWxldGUtbW9kYWwnKS5mb3JFYWNoKGJ0biA9PiB7DQogICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29uZmlybURlbGV0ZU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpOw0KICAgICAgICAgICAgfSk7DQoJCQkNCgkNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtRGVsZXRlQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVSZWNvcmQpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBT4buxIGtp4buHbiBjaG8gbW9kYWwgZGnhu4VuIGJp4bq/bg0KICAgDQoNCg0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVQcm9ncmVzc0RldGFpbEJ0bicpLm9uY2xpY2sgPSAoKSA9PiB7DQogICAgaWYgKCFjdXJyZW50RWRpdGluZ1Byb2dyZXNzQ2VsbCkgcmV0dXJuOw0KDQogICAgY29uc3QgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3NEZXRhaWxUZXh0JykudmFsdWU7DQogICAgY3VycmVudEVkaXRpbmdQcm9ncmVzc0NlbGwudGV4dGFyZWEudmFsdWUgPSB2YWx1ZTsNCg0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9ncmVzc0RldGFpbE1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCn07DQoNCi8vIMSQw7NuZyBtb2RhbCBwcm9ncmVzcyBkZXRhaWwNCmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZS1wcm9ncmVzcy1kZXRhaWwtbW9kYWwnKS5mb3JFYWNoKGJ0biA9PiB7DQogICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3NEZXRhaWxNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgIGN1cnJlbnRFZGl0aW5nUHJvZ3Jlc3NDZWxsID0gbnVsbDsNCiAgICB9KTsNCn0pOw0KDQoNCg0KDQogICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UtcHJvZ3Jlc3MtbW9kYWwnKS5mb3JFYWNoKGJ0biA9PiB7DQogICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcHJvZ3Jlc3NNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVQcm9ncmVzc0J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2F2ZVByb2dyZXNzKTsNCiAgICAgICAgICAgLy8gU+G7sSBraeG7h24gdGjDqm0gaMOgbmcgbeG7m2kgdHJvbmcgcHJvZ3Jlc3MNCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcm9ncmVzc1JvdycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgY29uc3QgcHJvZ3Jlc3NUYWJsZUJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZ3Jlc3NUYWJsZUJvZHknKTsNCiAgICBjb25zdCByb3dDb3VudCA9IHByb2dyZXNzVGFibGVCb2R5LmNoaWxkcmVuLmxlbmd0aCArIDE7DQogICAgY29uc3QgbmV3Um93ID0gY3JlYXRlUHJvZ3Jlc3NSb3cocm93Q291bnQpOw0KICAgIHByb2dyZXNzVGFibGVCb2R5LmFwcGVuZENoaWxkKG5ld1Jvdyk7DQp9KTsNCiAgICAgICAgICAgIA0KCQkJDQoJCQkNCgkJCQ0KICAgICAgICAgICAgLy8gWOG7rSBsw70geMOzYSBow6BuZyBkaeG7hW4gYmnhur9uDQogICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHsNCiAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLnJlbW92ZS1wcm9ncmVzcy1yb3cnKSkgew0KICAgICAgICBjb25zdCByb3cgPSBlLnRhcmdldC5jbG9zZXN0KCd0cicpOw0KICAgICAgICByb3cucmVtb3ZlKCk7DQogICAgICAgIA0KICAgICAgICAvLyBD4bqtcCBuaOG6rXQgU1RUDQogICAgICAgIGNvbnN0IHJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcHJvZ3Jlc3NUYWJsZUJvZHkgdHInKTsNCiAgICAgICAgcm93cy5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7DQogICAgICAgICAgICByb3cuZGF0YXNldC5pbmRleCA9IGluZGV4ICsgMTsNCiAgICAgICAgICAgIHJvdy5jZWxsc1swXS50ZXh0Q29udGVudCA9IGluZGV4ICsgMTsNCiAgICAgICAgfSk7DQogICAgfQ0KfSk7DQoJCQkNCgkJCQ0KCQkJDQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIGNobyBtb2RhbCB0w7l5IGNo4buNbiBpbi904bqjaQ0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlLXByaW50LW1vZGFsJykuZm9yRWFjaChidG4gPT4gew0KICAgICAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHByaW50T3B0aW9uc01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAvLyBUYWIgY2h1eeG7g24gxJHhu5VpIEluL1ThuqNpDQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmV4cG9ydC10YWInKS5mb3JFYWNoKHRhYiA9PiB7DQogICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgY29uc3QgdGFiTmFtZSA9IHRoaXMuZGF0YXNldC50YWI7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCB0YWIgYWN0aXZlDQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXhwb3J0LXRhYicpLmZvckVhY2godCA9PiB0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTsNCiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIEhp4buDbiB0aOG7iyBjb250ZW50IHTGsMahbmcg4bupbmcNCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5leHBvcnQtY29udGVudCcpLmZvckVhY2goY29udGVudCA9PiB7DQogICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGFiTmFtZX1UYWJgKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHRleHQgdGjDtG5nIHRpbg0KICAgICAgICAgICAgY29uc3QgaW5mb1RleHQgPSB0YWJOYW1lID09PSAncHJpbnQnID8gJ0No4buNbiBsb+G6oWkgaW4g4bqlbicgOiAnQ2jhu41uIMSR4buLbmggZOG6oW5nIHThuqNpIHh14buRbmcnOw0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGVkT3B0aW9uVGV4dCcpLnRleHRDb250ZW50ID0gaW5mb1RleHQ7DQogICAgICAgIH0pOw0KICAgIH0pOw0KICAgIA0KICAgIA0KICAgIC8vIEhp4buHdSDhu6luZyBob3ZlciBjaG8gZXhwb3J0IG9wdGlvbg0KICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmV4cG9ydC1vcHRpb24nKS5mb3JFYWNoKG9wdGlvbiA9PiB7DQogICAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpIHsNCiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZGF0YXNldC50eXBlOw0KICAgICAgICBjb25zdCBpc1ByaW50ID0gdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ3ByaW50LW9wdGlvbicpOw0KICAgICAgICBsZXQgdGV4dCA9ICcnOw0KICAgICAgICANCiAgICAgICAgaWYgKGlzUHJpbnQpIHsNCiAgICAgICAgICAgIGNvbnN0IHByaW50VGV4dHMgPSB7DQogICAgICAgICAgICAgICAgJ2Z1bGwnOiAnSW4gdG/DoG4gYuG7mSBi4buHbmggw6FuIHbhu5tpIHThuqV0IGPhuqMgdGjDtG5nIHRpbicsDQogICAgICAgICAgICAgICAgJ21lZGljaW5lJzogJ0luIMSRxqFuIHRodeG7kWMgY2hvIGLhu4duaCBuaMOibicsDQogICAgICAgICAgICAgICAgJ3Byb2NlZHVyZSc6ICdJbiBkYW5oIHPDoWNoIHRo4bunIHRodeG6rXQgxJHDoyB0aOG7sWMgaGnhu4duJywNCiAgICAgICAgICAgICAgICAncHJvZ3Jlc3MnOiAnSW4gbOG7i2NoIHPhu60gZGnhu4VuIGJp4bq/biBi4buHbmgnDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgdGV4dCA9IHByaW50VGV4dHNbdHlwZV0gfHwgJyc7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAvLyBDSOG7iCBDw5JOIERPQ1gNCiAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkVGV4dHMgPSB7DQogICAgICAgICAgICAgICAgJ2Z1bGwnOiAnVOG6o2kgdG/DoG4gYuG7mSBi4buHbmggw6FuIChET0NYKScsDQogICAgICAgICAgICAgICAgJ21lZGljaW5lJzogJ1ThuqNpIMSRxqFuIHRodeG7kWMgKERPQ1gpJywNCiAgICAgICAgICAgICAgICAncHJvY2VkdXJlJzogJ1ThuqNpIHRo4bunIHRodeG6rXQgKERPQ1gpJywNCiAgICAgICAgICAgICAgICAncHJvZ3Jlc3MnOiAnVOG6o2kgZGnhu4VuIGJp4bq/biAoRE9DWCknDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgdGV4dCA9IGRvd25sb2FkVGV4dHNbdHlwZV0gfHwgJyc7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGlmICh0ZXh0KSB7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0ZWRPcHRpb25UZXh0JykudGV4dENvbnRlbnQgPSB0ZXh0Ow0KICAgICAgICB9DQogICAgfSk7DQogICAgDQogICAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgY29uc3QgaXNQcmludFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leHBvcnQtdGFiW2RhdGEtdGFiPSJwcmludCJdJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTsNCiAgICAgICAgY29uc3QgdGV4dCA9IGlzUHJpbnRUYWIgPyAnQ2jhu41uIGxv4bqhaSBpbiDhuqVuJyA6ICdDaOG7jW4gdMO5eSBjaOG7jW4gdOG6o2kgeHXhu5FuZyc7DQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RlZE9wdGlvblRleHQnKS50ZXh0Q29udGVudCA9IHRleHQ7DQogICAgfSk7DQp9KTsNCiAgICANCiAgICAvLyBT4buxIGtp4buHbiBjaG8gY8OhYyB0w7l5IGNo4buNbiBpbg0KICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcmludC1vcHRpb24nKS5mb3JFYWNoKGJ0biA9PiB7DQogICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKTsNCiAgICAgICAgICAgIGhhbmRsZVByaW50KHR5cGUpOw0KICAgICAgICAgICAgcHJpbnRPcHRpb25zTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgfSk7DQogICAgfSk7DQogICAgDQogICAgLy8gU+G7sSBraeG7h24gY2hvIGPDoWMgdMO5eSBjaOG7jW4gdOG6o2kgeHXhu5FuZw0KZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvd25sb2FkLW9wdGlvbicpLmZvckVhY2goYnRuID0+IHsNCiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsNCiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnKTsNCiAgICAgICAgaGFuZGxlRG93bmxvYWQodHlwZSk7IC8vIENo4buJIGfhu41pIGjDoG0gRE9DWA0KICAgICAgICBwcmludE9wdGlvbnNNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIH0pOw0KfSk7DQogICANCgkNCiAgICAgICAgICAvLyBT4buxIGtp4buHbiBjaG8gbsO6dCBt4bufIHLhu5luZyBu4buZaSBkdW5nIGLhu4duaCDDoW4NCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBhbmREaWFnbm9zaXNCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFnbm9zaXNEZXRhaWwnKS52YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFnbm9zaXMnKS52YWx1ZTsNCiAgICBkaWFnbm9zaXNNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCn0pOw0KDQovLyBT4buxIGtp4buHbiBjbGljayBjaG8gdGjhu6cgdGh14bqtdCB2w6AgdGh14buRYyAoduG6q24gZ2nhu68gY2xpY2spDQpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGV4dGFyZWEtZG91YmxlLWNsaWNrJykuZm9yRWFjaChlbGVtZW50ID0+IHsNCiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgICAgIGNvbnN0IHRhcmdldE1vZGFsID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0Jyk7DQogICAgICAgIA0KICAgICAgICBpZiAodGFyZ2V0TW9kYWwgPT09ICdwcm9jZWR1cmVNb2RhbCcpIHsNCiAgICAgICAgICAgIC8vIE3hu58gbW9kYWwgbmjhuq1wIHRo4bunIHRodeG6rXQNCiAgICAgICAgICAgIHByb2NlZHVyZU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgaW5pdGlhbGl6ZVByb2NlZHVyZVRhYmxlKCk7DQogICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0TW9kYWwgPT09ICdtZWRpY2luZU1vZGFsJykgew0KICAgICAgICAgICAgLy8gTeG7nyBtb2RhbCBuaOG6rXAgdGh14buRYw0KICAgICAgICAgICAgbWVkaWNpbmVNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCiAgICAgICAgICAgIGluaXRpYWxpemVNZWRpY2luZVRhYmxlKCk7DQogICAgICAgIH0NCiAgICB9KTsNCn0pOw0KICAgICAgICAgICAgDQoJCQkNCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIMSRw7NuZyBtb2RhbCBu4buZaSBkdW5nIGLhu4duaCDDoW4NCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZS1kaWFnbm9zaXMtbW9kYWwnKS5mb3JFYWNoKGJ0biA9PiB7DQogICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gZGlhZ25vc2lzTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVEaWFnbm9zaXNCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgIGNvbnN0IGRpYWdub3Npc0RldGFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWFnbm9zaXNEZXRhaWwnKS52YWx1ZTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlhZ25vc2lzJykudmFsdWUgPSBkaWFnbm9zaXNEZXRhaWw7DQogICAgZGlhZ25vc2lzTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICBzaG93VG9hc3QoJ8SQw6MgY+G6rXAgbmjhuq10IG7hu5lpIGR1bmcgYuG7h25oIMOhbiEnLCAnc3VjY2VzcycpOw0KfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIMSRw7NuZyBtb2RhbCB0aOG7pyB0aHXhuq10DQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UtcHJvY2VkdXJlLW1vZGFsJykuZm9yRWFjaChidG4gPT4gew0KICAgICAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHByb2NlZHVyZU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIMSRw7NuZyBtb2RhbCB0aHXhu5FjDQogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UtbWVkaWNpbmUtbW9kYWwnKS5mb3JFYWNoKGJ0biA9PiB7DQogICAgICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbWVkaWNpbmVNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyDEkMOzbmcgbW9kYWwga2hpIGNsaWNrIGLDqm4gbmdvw6BpDQogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwnKSkgew0KICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIC8vIEto4bufaSB04bqhbyBi4bqjbmcgdGjhu6cgdGh14bqtdA0KICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplUHJvY2VkdXJlVGFibGUoKSB7DQogICAgY29uc3QgcHJvY2VkdXJlVGFibGVCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2NlZHVyZVRhYmxlQm9keScpOw0KICAgIHByb2NlZHVyZVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJzsNCiAgICANCiAgICAvLyBM4bqleSBk4buvIGxp4buHdSB0aOG7pyB0aHXhuq10IHThu6sgYuG7h25oIMOhbiDEkWFuZyBjaOG7iW5oIHPhu61hIGhv4bq3YyB04burIGxvY2FsU3RvcmFnZSB04bqhbSB0aOG7nWkNCiAgICBsZXQgcHJvY2VkdXJlcyA9IFtdOw0KICAgIA0KICAgIGlmIChjdXJyZW50RWRpdGluZ1JlY29yZElkKSB7DQogICAgICAgIC8vIEzhuqV5IHThu6sgYuG7h25oIMOhbiDEkWFuZyBjaOG7iW5oIHPhu61hDQogICAgICAgIGNvbnN0IHJlY29yZCA9IG1lZGljYWxSZWNvcmRzLmZpbmQociA9PiByLmlkID09PSBjdXJyZW50RWRpdGluZ1JlY29yZElkKTsNCiAgICAgICAgaWYgKHJlY29yZCAmJiByZWNvcmQucHJvY2VkdXJlcykgew0KICAgICAgICAgICAgcHJvY2VkdXJlcyA9IHJlY29yZC5wcm9jZWR1cmVzOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgLy8gTOG6pXkgdOG7qyBsb2NhbFN0b3JhZ2UgdOG6oW0gdGjhu51pIChjaG8gdGjDqm0gbeG7m2kpDQogICAgICAgIHByb2NlZHVyZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0ZW1wUHJvY2VkdXJlcycpKSB8fCBbXTsNCiAgICB9DQogICAgDQogICAgaWYgKHByb2NlZHVyZXMubGVuZ3RoID4gMCkgew0KICAgICAgICBwcm9jZWR1cmVzLmZvckVhY2goKHByb2MsIGluZGV4KSA9PiB7DQogICAgICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOw0KICAgICAgICAgICAgcm93LmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICA8dGQ+JHtpbmRleCArIDF9PC90ZD4NCiAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJwcm9jZWR1cmUtbmFtZSIgdmFsdWU9IiR7cHJvYy5uYW1lIHx8ICcnfSI+PC90ZD4NCiAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJwcm9jZWR1cmUtbm90ZSIgdmFsdWU9IiR7cHJvYy5ub3RlIHx8ICcnfSIgcGxhY2Vob2xkZXI9IkdoaSBjaMO6Ij48L3RkPg0KICAgICAgICAgICAgICAgIDx0ZD48aW5wdXQgdHlwZT0ibnVtYmVyIiBjbGFzcz0icHJvY2VkdXJlLXF1YW50aXR5IiB2YWx1ZT0iJHtwcm9jLnF1YW50aXR5IHx8IDF9IiBtaW49IjEiPjwvdGQ+DQogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJwcmljZS1jb2x1bW4iPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJwcm9jZWR1cmUtcHJpY2UiIHZhbHVlPSIke3Byb2MucHJpY2UgfHwgMH0iIG1pbj0iMCI+PC90ZD4NCiAgICAgICAgICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIHJlbW92ZS1yb3ciPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj48L3RkPg0KICAgICAgICAgICAgYDsNCiAgICAgICAgICAgIHByb2NlZHVyZVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpOw0KICAgICAgICB9KTsNCiAgICB9IGVsc2Ugew0KICAgICAgICAvLyBUaMOqbSBow6BuZyBt4bq3YyDEkeG7i25oDQogICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7DQogICAgICAgIHJvdy5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8dGQ+MTwvdGQ+DQogICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJwcm9jZWR1cmUtbmFtZSIgcGxhY2Vob2xkZXI9Ik5o4bqtcCB0w6puIHRo4bunIHRodeG6rXQiPjwvdGQ+DQogICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJwcm9jZWR1cmUtbm90ZSIgcGxhY2Vob2xkZXI9IkdoaSBjaMO6Ij48L3RkPg0KICAgICAgICAgICAgPHRkPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJwcm9jZWR1cmUtcXVhbnRpdHkiIHBsYWNlaG9sZGVyPSJT4buRIGzhuqduIiBtaW49IjEiIHZhbHVlPSIxIj48L3RkPg0KICAgICAgICAgICAgPHRkIGNsYXNzPSJwcmljZS1jb2x1bW4iPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJwcm9jZWR1cmUtcHJpY2UiIHBsYWNlaG9sZGVyPSJHacOhIHRp4buBbiIgbWluPSIwIj48L3RkPg0KICAgICAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSByZW1vdmUtcm93Ij48aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+PC9idXR0b24+PC90ZD4NCiAgICAgICAgYDsNCiAgICAgICAgcHJvY2VkdXJlVGFibGVCb2R5LmFwcGVuZENoaWxkKHJvdyk7DQogICAgfQ0KICAgIA0KICAgIC8vIEPhuq1wIG5o4bqtdCB04buVbmcNCiAgICB1cGRhdGVQcm9jZWR1cmVUb3RhbHMoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gU+G7sSBraeG7h24gY2hvIG7DunQgdGjDqm0gaMOgbmcNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcm9jZWR1cmVSb3cnKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgY29uc3Qgcm93Q291bnQgPSBwcm9jZWR1cmVUYWJsZUJvZHkuY2hpbGRyZW4ubGVuZ3RoICsgMTsNCiAgICAgICAgICAgICAgICBjb25zdCBuZXdSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOw0KICAgICAgICAgICAgICAgIG5ld1Jvdy5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Jvd0NvdW50fTwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZD48aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9InByb2NlZHVyZS1uYW1lIiBwbGFjZWhvbGRlcj0iTmjhuq1wIHTDqm4gdGjhu6cgdGh14bqtdCI+PC90ZD4NCgkJCQkJPHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0icHJvY2VkdXJlLW5vdGUiIHBsYWNlaG9sZGVyPSJHaGkgY2jDuiI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJwcm9jZWR1cmUtcXVhbnRpdHkiIHBsYWNlaG9sZGVyPSJT4buRIGzhuqduIiBtaW49IjEiIHZhbHVlPSIxIj48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InByaWNlLWNvbHVtbiI+PGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9InByb2NlZHVyZS1wcmljZSIgcGxhY2Vob2xkZXI9Ikdpw6EgdGnhu4FuIiBtaW49IjAiPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZD48YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20gcmVtb3ZlLXJvdyI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPjwvdGQ+DQogICAgICAgICAgICAgICAgYDsNCiAgICAgICAgICAgICAgICBwcm9jZWR1cmVUYWJsZUJvZHkuYXBwZW5kQ2hpbGQobmV3Um93KTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIGNobyB0b2dnbGUgaGnhu4NuIHRo4buLIGdpw6ENCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVQcm9jZWR1cmVQcmljZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHNob3dQcmljZSA9IHRoaXMuY2hlY2tlZDsNCiAgICAgICAgICAgICAgICBjb25zdCBwcmljZUNvbHVtbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcHJvY2VkdXJlVGFibGUgLnByaWNlLWNvbHVtbicpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2NlZHVyZVRvdGFsUm93Jyk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgcHJpY2VDb2x1bW5zLmZvckVhY2goY29sID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29sLnN0eWxlLmRpc3BsYXkgPSBzaG93UHJpY2UgPyAndGFibGUtY2VsbCcgOiAnbm9uZSc7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdG90YWxSb3cuc3R5bGUuZGlzcGxheSA9IHNob3dQcmljZSA/ICdub25lJyA6ICd0YWJsZS1yb3cnOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmICghc2hvd1ByaWNlKSB7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZWR1cmVUb3RhbEFtb3VudCcpLnZhbHVlID0gJyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHVwZGF0ZVByb2NlZHVyZVRvdGFscygpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIGPhuq1wIG5o4bqtdCB04buVbmcga2hpIG5o4bqtcCBsaeG7h3UNCiAgICAgICAgICAgIHByb2NlZHVyZVRhYmxlQm9keS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZVByb2NlZHVyZVRvdGFscyk7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIGzGsHUgdGjhu6cgdGh14bqtdA0KICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZVByb2NlZHVyZUJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgY29uc3QgcHJvY2VkdXJlcyA9IFtdOw0KICAgIGNvbnN0IHJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcHJvY2VkdXJlVGFibGVCb2R5IHRyJyk7DQogICAgDQogICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7DQogICAgICAgIGNvbnN0IG5hbWUgPSByb3cucXVlcnlTZWxlY3RvcignLnByb2NlZHVyZS1uYW1lJykudmFsdWUudHJpbSgpOw0KICAgICAgICBjb25zdCBub3RlID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZWR1cmUtbm90ZScpLnZhbHVlLnRyaW0oKTsNCiAgICAgICAgY29uc3QgcXVhbnRpdHkgPSBwYXJzZUludChyb3cucXVlcnlTZWxlY3RvcignLnByb2NlZHVyZS1xdWFudGl0eScpLnZhbHVlKSB8fCAwOw0KICAgICAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQocm93LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZWR1cmUtcHJpY2UnKS52YWx1ZSkgfHwgMDsNCiAgICAgICAgDQogICAgICAgIGlmIChuYW1lKSB7DQogICAgICAgICAgICBwcm9jZWR1cmVzLnB1c2goeyBuYW1lLCBub3RlLCBxdWFudGl0eSwgcHJpY2UgfSk7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICANCiAgICBpZiAoY3VycmVudEVkaXRpbmdSZWNvcmRJZCkgew0KICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdsOgbyBi4buHbmggw6FuIMSRYW5nIGNo4buJbmggc+G7rWENCiAgICAgICAgY29uc3QgcmVjb3JkSW5kZXggPSBtZWRpY2FsUmVjb3Jkcy5maW5kSW5kZXgociA9PiByLmlkID09PSBjdXJyZW50RWRpdGluZ1JlY29yZElkKTsNCiAgICAgICAgaWYgKHJlY29yZEluZGV4ICE9PSAtMSkgew0KICAgICAgICAgICAgbWVkaWNhbFJlY29yZHNbcmVjb3JkSW5kZXhdLnByb2NlZHVyZXMgPSBwcm9jZWR1cmVzOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgLy8gTMawdSB2w6BvIGxvY2FsU3RvcmFnZSB04bqhbSB0aOG7nWkNCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RlbXBQcm9jZWR1cmVzJywgSlNPTi5zdHJpbmdpZnkocHJvY2VkdXJlcykpOw0KICAgIH0NCiAgICANCiAgICAvLyBD4bqtcCBuaOG6rXQgaGnhu4NuIHRo4buLIHTDs20gdOG6r3QNCiAgICBsZXQgcHJvY2VkdXJlSFRNTCA9ICc8dWw+JzsNCiAgICBwcm9jZWR1cmVzLmZvckVhY2gocHJvYyA9PiB7DQogICAgICAgIHByb2NlZHVyZUhUTUwgKz0gYDxsaT4ke3Byb2MubmFtZX0gLSBT4buRIGzhuqduOiAke3Byb2MucXVhbnRpdHl9JHtwcm9jLnByaWNlID8gYCAtIEdpw6E6ICR7Zm9ybWF0Q3VycmVuY3kocHJvYy5wcmljZSl9YCA6ICcnfTwvbGk+YDsNCiAgICB9KTsNCiAgICBwcm9jZWR1cmVIVE1MICs9ICc8L3VsPic7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2NlZHVyZVN1bW1hcnknKS5pbm5lckhUTUwgPSBwcm9jZWR1cmVIVE1MOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZWR1cmVUZXh0JykuaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtZXhwYW5kLWFsdCI+PC9pPiBOaOG6pW4gxJHhu4MgY2jhu4luaCBz4butYSB0aOG7pyB0aHXhuq10JzsNCiAgICANCiAgICBwcm9jZWR1cmVNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIHNob3dUb2FzdCgnxJDDoyBsxrB1IHRo4bunIHRodeG6rXQhJywgJ3N1Y2Nlc3MnKTsNCn0pOw0KICAgICAgICAgIA0KICAgICAgICB9DQogICAgICAgIA0KCQkNCiAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHThu5VuZyB0aOG7pyB0aHXhuq10DQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVByb2NlZHVyZVRvdGFscygpIHsNCiAgICAgICAgICAgIGNvbnN0IHNob3dQcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVQcm9jZWR1cmVQcmljZScpLmNoZWNrZWQ7DQogICAgICAgICAgICBjb25zdCByb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Byb2NlZHVyZVRhYmxlQm9keSB0cicpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgdG90YWxRdWFudGl0eSA9IDA7DQogICAgICAgICAgICBsZXQgdG90YWxQcmljZSA9IDA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJvd3MuZm9yRWFjaChyb3cgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQocm93LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZWR1cmUtcXVhbnRpdHknKS52YWx1ZSkgfHwgMDsNCiAgICAgICAgICAgICAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQocm93LnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZWR1cmUtcHJpY2UnKS52YWx1ZSkgfHwgMDsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0b3RhbFF1YW50aXR5ICs9IHF1YW50aXR5Ow0KICAgICAgICAgICAgICAgIHRvdGFsUHJpY2UgKz0gcHJpY2UgKiBxdWFudGl0eTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvY2VkdXJlVG90YWxRdWFudGl0eScpLnRleHRDb250ZW50ID0gdG90YWxRdWFudGl0eTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZWR1cmVUb3RhbFByaWNlJykudGV4dENvbnRlbnQgPSBmb3JtYXRDdXJyZW5jeSh0b3RhbFByaWNlKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gTuG6v3Uga2jDtG5nIGhp4buDbiB0aOG7iyBnacOhLCBj4bqtcCBuaOG6rXQgdOG7lW5nIGdpw6EgdGnhu4FuIHThu6sgaW5wdXQNCiAgICAgICAgICAgIGlmICghc2hvd1ByaWNlKSB7DQogICAgICAgICAgICAgICAgY29uc3QgdG90YWxBbW91bnQgPSBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZWR1cmVUb3RhbEFtb3VudCcpLnZhbHVlKSB8fCAwOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZWR1cmVUb3RhbFByaWNlJykudGV4dENvbnRlbnQgPSBmb3JtYXRDdXJyZW5jeSh0b3RhbEFtb3VudCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIEto4bufaSB04bqhbyBi4bqjbmcgdGh14buRYw0KICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZU1lZGljaW5lVGFibGUoKSB7DQogICAgY29uc3QgbWVkaWNpbmVUYWJsZUJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVkaWNpbmVUYWJsZUJvZHknKTsNCiAgICBtZWRpY2luZVRhYmxlQm9keS5pbm5lckhUTUwgPSAnJzsNCiAgICANCiAgICAvLyBM4bqleSBk4buvIGxp4buHdSB0aHXhu5FjIHThu6sgYuG7h25oIMOhbiDEkWFuZyBjaOG7iW5oIHPhu61hIGhv4bq3YyB04burIGxvY2FsU3RvcmFnZSB04bqhbSB0aOG7nWkNCiAgICBsZXQgbWVkaWNpbmVzID0gW107DQogICAgDQogICAgaWYgKGN1cnJlbnRFZGl0aW5nUmVjb3JkSWQpIHsNCiAgICAgICAgLy8gTOG6pXkgdOG7qyBi4buHbmggw6FuIMSRYW5nIGNo4buJbmggc+G7rWENCiAgICAgICAgY29uc3QgcmVjb3JkID0gbWVkaWNhbFJlY29yZHMuZmluZChyID0+IHIuaWQgPT09IGN1cnJlbnRFZGl0aW5nUmVjb3JkSWQpOw0KICAgICAgICBpZiAocmVjb3JkICYmIHJlY29yZC5tZWRpY2luZXMpIHsNCiAgICAgICAgICAgIG1lZGljaW5lcyA9IHJlY29yZC5tZWRpY2luZXM7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICAvLyBM4bqleSB04burIGxvY2FsU3RvcmFnZSB04bqhbSB0aOG7nWkgKGNobyB0aMOqbSBt4bubaSkNCiAgICAgICAgbWVkaWNpbmVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGVtcE1lZGljaW5lcycpKSB8fCBbXTsNCiAgICB9DQogICAgDQogICAgaWYgKG1lZGljaW5lcy5sZW5ndGggPiAwKSB7DQogICAgICAgIG1lZGljaW5lcy5mb3JFYWNoKChtZWQsIGluZGV4KSA9PiB7DQogICAgICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOw0KICAgICAgICAgICAgcm93LmlubmVySFRNTCA9IGANCiAgICAgICAgICAgICAgICA8dGQ+JHtpbmRleCArIDF9PC90ZD4NCiAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJtZWRpY2luZS1uYW1lIiB2YWx1ZT0iJHttZWQubmFtZSB8fCAnJ30iPjwvdGQ+DQogICAgICAgICAgICAgICAgPHRkPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJtZWRpY2luZS1xdWFudGl0eSIgdmFsdWU9IiR7bWVkLnF1YW50aXR5IHx8IDF9IiBtaW49IjEiPjwvdGQ+DQogICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJwcmljZS1jb2x1bW4iPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJtZWRpY2luZS1wcmljZSIgdmFsdWU9IiR7bWVkLnByaWNlIHx8IDB9IiBtaW49IjAiPjwvdGQ+DQogICAgICAgICAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSByZW1vdmUtcm93Ij48aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+PC9idXR0b24+PC90ZD4NCiAgICAgICAgICAgIGA7DQogICAgICAgICAgICBtZWRpY2luZVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpOw0KICAgICAgICB9KTsNCiAgICB9IGVsc2Ugew0KICAgICAgICAvLyBUaMOqbSBow6BuZyBt4bq3YyDEkeG7i25oDQogICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7DQogICAgICAgIHJvdy5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8dGQ+MTwvdGQ+DQogICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJtZWRpY2luZS1uYW1lIiBwbGFjZWhvbGRlcj0iTmjhuq1wIHTDqm4gdGh14buRYyI+PC90ZD4NCiAgICAgICAgICAgIDx0ZD48aW5wdXQgdHlwZT0ibnVtYmVyIiBjbGFzcz0ibWVkaWNpbmUtcXVhbnRpdHkiIHBsYWNlaG9sZGVyPSJT4buRIGzGsOG7o25nIiBtaW49IjEiIHZhbHVlPSIxIj48L3RkPg0KICAgICAgICAgICAgPHRkIGNsYXNzPSJwcmljZS1jb2x1bW4iPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJtZWRpY2luZS1wcmljZSIgcGxhY2Vob2xkZXI9Ikdpw6EgdGnhu4FuIiBtaW49IjAiPjwvdGQ+DQogICAgICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIHJlbW92ZS1yb3ciPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj48L3RkPg0KICAgICAgICBgOw0KICAgICAgICBtZWRpY2luZVRhYmxlQm9keS5hcHBlbmRDaGlsZChyb3cpOw0KICAgIH0NCiAgICANCiAgICAvLyBD4bqtcCBuaOG6rXQgdOG7lW5nDQogICAgdXBkYXRlTWVkaWNpbmVUb3RhbHMoKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gU+G7sSBraeG7h24gY2hvIG7DunQgdGjDqm0gaMOgbmcNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRNZWRpY2luZVJvdycpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBjb25zdCByb3dDb3VudCA9IG1lZGljaW5lVGFibGVCb2R5LmNoaWxkcmVuLmxlbmd0aCArIDE7DQogICAgICAgICAgICAgICAgY29uc3QgbmV3Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsNCiAgICAgICAgICAgICAgICBuZXdSb3cuaW5uZXJIVE1MID0gYA0KICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyb3dDb3VudH08L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJtZWRpY2luZS1uYW1lIiBwbGFjZWhvbGRlcj0iTmjhuq1wIHTDqm4gdGh14buRYyI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkPjxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJtZWRpY2luZS1xdWFudGl0eSIgcGxhY2Vob2xkZXI9IlPhu5EgbMaw4bujbmciIG1pbj0iMSIgdmFsdWU9IjEiPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0icHJpY2UtY29sdW1uIj48aW5wdXQgdHlwZT0ibnVtYmVyIiBjbGFzcz0ibWVkaWNpbmUtcHJpY2UiIHBsYWNlaG9sZGVyPSJHacOhIHRp4buBbiIgbWluPSIwIj48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIHJlbW92ZS1yb3ciPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj48L3RkPg0KICAgICAgICAgICAgICAgIGA7DQogICAgICAgICAgICAgICAgbWVkaWNpbmVUYWJsZUJvZHkuYXBwZW5kQ2hpbGQobmV3Um93KTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIFPhu7Ega2nhu4duIGNobyB0b2dnbGUgaGnhu4NuIHRo4buLIGdpw6ENCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVNZWRpY2luZVByaWNlJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgY29uc3Qgc2hvd1ByaWNlID0gdGhpcy5jaGVja2VkOw0KICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlQ29sdW1ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNtZWRpY2luZVRhYmxlIC5wcmljZS1jb2x1bW4nKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFJvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWRpY2luZVRvdGFsUm93Jyk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgcHJpY2VDb2x1bW5zLmZvckVhY2goY29sID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29sLnN0eWxlLmRpc3BsYXkgPSBzaG93UHJpY2UgPyAndGFibGUtY2VsbCcgOiAnbm9uZSc7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdG90YWxSb3cuc3R5bGUuZGlzcGxheSA9IHNob3dQcmljZSA/ICdub25lJyA6ICd0YWJsZS1yb3cnOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmICghc2hvd1ByaWNlKSB7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWRpY2luZVRvdGFsQW1vdW50JykudmFsdWUgPSAnJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdXBkYXRlTWVkaWNpbmVUb3RhbHMoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBT4buxIGtp4buHbiBj4bqtcCBuaOG6rXQgdOG7lW5nIGtoaSBuaOG6rXAgbGnhu4d1DQogICAgICAgICAgICBtZWRpY2luZVRhYmxlQm9keS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZU1lZGljaW5lVG90YWxzKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gU+G7sSBraeG7h24gbMawdSB0aHXhu5FjDQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZU1lZGljaW5lQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBtZWRpY2luZXMgPSBbXTsNCiAgICAgICAgICAgICAgICBjb25zdCByb3dzID0gbWVkaWNpbmVUYWJsZUJvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICByb3dzLmZvckVhY2gocm93ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHJvdy5xdWVyeVNlbGVjdG9yKCcubWVkaWNpbmUtbmFtZScpLnZhbHVlLnRyaW0oKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXVhbnRpdHkgPSBwYXJzZUludChyb3cucXVlcnlTZWxlY3RvcignLm1lZGljaW5lLXF1YW50aXR5JykudmFsdWUpIHx8IDA7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChyb3cucXVlcnlTZWxlY3RvcignLm1lZGljaW5lLXByaWNlJykudmFsdWUpIHx8IDA7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWNpbmVzLnB1c2goeyBuYW1lLCBxdWFudGl0eSwgcHJpY2UgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBMxrB1IHbDoG8gbG9jYWxTdG9yYWdlIHThuqFtIHRo4budaQ0KICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0ZW1wTWVkaWNpbmVzJywgSlNPTi5zdHJpbmdpZnkobWVkaWNpbmVzKSk7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IGhp4buDbiB0aOG7iyB0w7NtIHThuq90DQogICAgICAgICAgICAgICAgbGV0IG1lZGljaW5lSFRNTCA9ICc8dWw+JzsNCiAgICAgICAgICAgICAgICBtZWRpY2luZXMuZm9yRWFjaChtZWQgPT4gew0KICAgICAgICAgICAgICAgICAgICBtZWRpY2luZUhUTUwgKz0gYDxsaT4ke21lZC5uYW1lfSAtIFPhu5EgbMaw4bujbmc6ICR7bWVkLnF1YW50aXR5fSR7bWVkLnByaWNlID8gYCAtIEdpw6E6ICR7Zm9ybWF0Q3VycmVuY3kobWVkLnByaWNlKX1gIDogJyd9PC9saT5gOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIG1lZGljaW5lSFRNTCArPSAnPC91bD4nOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWRpY2luZVN1bW1hcnknKS5pbm5lckhUTUwgPSBtZWRpY2luZUhUTUw7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZGljaW5lVGV4dCcpLnRleHRDb250ZW50ID0gJ05o4bqlbiDEkcO6cCDEkeG7gyBjaOG7iW5oIHPhu61hIHRodeG7kWMuLi4nOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIG1lZGljaW5lTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ8SQw6MgbMawdSB0aHXhu5FjIScsICdzdWNjZXNzJyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHThu5VuZyB0aHXhu5FjDQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1lZGljaW5lVG90YWxzKCkgew0KICAgICAgICAgICAgY29uc3Qgc2hvd1ByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZU1lZGljaW5lUHJpY2UnKS5jaGVja2VkOw0KICAgICAgICAgICAgY29uc3Qgcm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNtZWRpY2luZVRhYmxlQm9keSB0cicpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgdG90YWxRdWFudGl0eSA9IDA7DQogICAgICAgICAgICBsZXQgdG90YWxQcmljZSA9IDA7DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJvd3MuZm9yRWFjaChyb3cgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQocm93LnF1ZXJ5U2VsZWN0b3IoJy5tZWRpY2luZS1xdWFudGl0eScpLnZhbHVlKSB8fCAwOw0KICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlID0gcGFyc2VGbG9hdChyb3cucXVlcnlTZWxlY3RvcignLm1lZGljaW5lLXByaWNlJykudmFsdWUpIHx8IDA7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdG90YWxRdWFudGl0eSArPSBxdWFudGl0eTsNCiAgICAgICAgICAgICAgICB0b3RhbFByaWNlICs9IHByaWNlICogcXVhbnRpdHk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZGljaW5lVG90YWxRdWFudGl0eScpLnRleHRDb250ZW50ID0gdG90YWxRdWFudGl0eTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWRpY2luZVRvdGFsUHJpY2UnKS50ZXh0Q29udGVudCA9IGZvcm1hdEN1cnJlbmN5KHRvdGFsUHJpY2UpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICAvLyBO4bq/dSBraMO0bmcgaGnhu4NuIHRo4buLIGdpw6EsIGPhuq1wIG5o4bqtdCB04buVbmcgZ2nDoSB0aeG7gW4gdOG7qyBpbnB1dA0KICAgICAgICAgICAgaWYgKCFzaG93UHJpY2UpIHsNCiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEFtb3VudCA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lZGljaW5lVG90YWxBbW91bnQnKS52YWx1ZSkgfHwgMDsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVkaWNpbmVUb3RhbFByaWNlJykudGV4dENvbnRlbnQgPSBmb3JtYXRDdXJyZW5jeSh0b3RhbEFtb3VudCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIFjhu60gbMO9IHjDs2EgaMOgbmcgdHJvbmcgYuG6o25nIHRo4bunIHRodeG6rXQgdsOgIHRodeG7kWMNCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xvc2VzdCgnLnJlbW92ZS1yb3cnKSkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IGUudGFyZ2V0LmNsb3Nlc3QoJ3RyJyk7DQogICAgICAgICAgICAgICAgY29uc3QgdGFibGVCb2R5ID0gcm93LnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgcm93LnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vIEPhuq1wIG5o4bqtdCBTVFQNCiAgICAgICAgICAgICAgICBjb25zdCByb3dzID0gdGFibGVCb2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7DQogICAgICAgICAgICAgICAgcm93cy5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJvdy5jZWxsc1swXS50ZXh0Q29udGVudCA9IGluZGV4ICsgMTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdOG7lW5nDQogICAgICAgICAgICAgICAgaWYgKHRhYmxlQm9keS5pZCA9PT0gJ3Byb2NlZHVyZVRhYmxlQm9keScpIHsNCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJvY2VkdXJlVG90YWxzKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWJsZUJvZHkuaWQgPT09ICdtZWRpY2luZVRhYmxlQm9keScpIHsNCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWVkaWNpbmVUb3RhbHMoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KCQljb25zdCB0aGVtZURvdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGhlbWUtZG90Jyk7DQpjb25zdCBkYXJrVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhcmtNb2RlVG9nZ2xlJyk7DQoNCi8vIExvYWQgdGhlbWUgxJHDoyBsxrB1DQpjb25zdCBzYXZlZENvbG9yID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RoZW1lQ29sb3InKTsNCmNvbnN0IHNhdmVkRGFyayA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkYXJrTW9kZScpOw0KDQppZiAoc2F2ZWRDb2xvcikgYXBwbHlUaGVtZUNvbG9yKHNhdmVkQ29sb3IpOw0KaWYgKHNhdmVkRGFyayA9PT0gJ3RydWUnKSBlbmFibGVEYXJrTW9kZSgpOw0KDQovLyBDbGljayBjaOG7jW4gbcOgdQ0KdGhlbWVEb3RzLmZvckVhY2goZG90ID0+IHsNCiAgICBkb3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgICAgIGNvbnN0IGNvbG9yID0gZG90LmRhdGFzZXQuY29sb3I7DQogICAgICAgIGFwcGx5VGhlbWVDb2xvcihjb2xvcik7DQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZUNvbG9yJywgY29sb3IpOw0KICAgIH0pOw0KfSk7DQoNCi8vIERhcmsgbW9kZSB0b2dnbGUNCmRhcmtUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrJyk7DQogICAgY29uc3QgaXNEYXJrID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmsnKTsNCiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZGFya01vZGUnLCBpc0RhcmspOw0KICAgIGRhcmtUb2dnbGUudGV4dENvbnRlbnQgPSBpc0RhcmsgPyAn4piA77iPIFPDoW5nJyA6ICfwn4yZIFThu5FpJzsNCn0pOw0KDQpmdW5jdGlvbiBlbmFibGVEYXJrTW9kZSgpIHsNCiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ2RhcmsnKTsNCiAgICBkYXJrVG9nZ2xlLnRleHRDb250ZW50ID0gJ+KYgO+4jyBTw6FuZyc7DQp9DQoNCi8vIMOBcCBtw6B1IGNo4bunIMSR4buBDQpmdW5jdGlvbiBhcHBseVRoZW1lQ29sb3IoY29sb3IpIHsNCiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tcHJpbWFyeScsIGNvbG9yKTsNCiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tcHJpbWFyeS1kYXJrJywgc2hhZGVDb2xvcihjb2xvciwgLTE1KSk7DQogICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXByaW1hcnktbGlnaHQnLCBzaGFkZUNvbG9yKGNvbG9yLCAyMCkpOw0KfQ0KDQovLyBY4butIGzDvSBzw6FuZy904buRaSBtw6B1DQpmdW5jdGlvbiBzaGFkZUNvbG9yKGhleCwgcGVyY2VudCkgew0KICAgIGxldCBudW0gPSBwYXJzZUludChoZXgucmVwbGFjZSgiIyIsIiIpLDE2KSwNCiAgICAgICAgYW10ID0gTWF0aC5yb3VuZCgyLjU1ICogcGVyY2VudCksDQogICAgICAgIFIgPSAobnVtID4+IDE2KSArIGFtdCwNCiAgICAgICAgRyA9IChudW0gPj4gOCAmIDB4MDBGRikgKyBhbXQsDQogICAgICAgIEIgPSAobnVtICYgMHgwMDAwRkYpICsgYW10Ow0KDQogICAgcmV0dXJuICIjIiArICgNCiAgICAgICAgMHgxMDAwMDAwICsNCiAgICAgICAgKFI8MjU1P1I8MT8wOlI6MjU1KSoweDEwMDAwICsNCiAgICAgICAgKEc8MjU1P0c8MT8wOkc6MjU1KSoweDEwMCArDQogICAgICAgIChCPDI1NT9CPDE/MDpCOjI1NSkNCiAgICApLnRvU3RyaW5nKDE2KS5zbGljZSgxKTsNCn0NCg0KDQoNCmZ1bmN0aW9uIHByaW50QnlJZnJhbWUoaHRtbENvbnRlbnQpIHsNCiAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJpbnRGcmFtZSIpOw0KICAgIGNvbnN0IGRvYyA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50Ow0KDQogICAgZG9jLm9wZW4oKTsNCiAgICBkb2Mud3JpdGUoYA0KICAgICAgICA8IURPQ1RZUEUgaHRtbD4NCiAgICAgICAgPGh0bWw+DQogICAgICAgIDxoZWFkPg0KICAgICAgICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPg0KICAgICAgICAgICAgPHRpdGxlPkluIGLhu4duaCDDoW48L3RpdGxlPg0KICAgICAgICAgICAgPHN0eWxlPg0KICAgICAgICAgICAgICAgIGJvZHkgew0KICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogIlRpbWVzIE5ldyBSb21hbiIsIHNlcmlmOw0KICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGgyIHsNCiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBwIHsNCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiA2cHggMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGFibGUgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsNCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGgsIHRkIHsNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzAwMDsNCiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogNnB4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIDwvc3R5bGU+DQogICAgICAgIDwvaGVhZD4NCiAgICAgICAgPGJvZHk+DQogICAgICAgICAgICAke2h0bWxDb250ZW50fQ0KICAgICAgICA8L2JvZHk+DQogICAgICAgIDwvaHRtbD4NCiAgICBgKTsNCiAgICBkb2MuY2xvc2UoKTsNCg0KICAgIC8vIOKaoO+4jyBC4bquVCBCVeG7mEMgUEjhuqJJIERFTEFZDQogICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmZvY3VzKCk7DQogICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LnByaW50KCk7DQogICAgfSwgNTAwKTsNCn0NCg0KZnVuY3Rpb24gc2hvd1ByZXZpZXdPcHRpb25zKHJlY29yZElkKSB7DQogICAgY3VycmVudFJlY29yZElkID0gcmVjb3JkSWQ7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBkZlByZXZpZXdBcmVhIikuaW5uZXJIVE1MID0gIiI7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByZXZpZXdTZWxlY3RNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KfQ0KDQpmdW5jdGlvbiBjbG9zZVByZXZpZXdNb2RhbCgpIHsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldmlld1NlbGVjdE1vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCn0NCmZ1bmN0aW9uIHByZXZpZXdQREYodHlwZSkgew0KICAgIGNvbnN0IHJlY29yZCA9IG1lZGljYWxSZWNvcmRzLmZpbmQociA9PiByLmlkID09PSBjdXJyZW50UmVjb3JkSWQpOw0KICAgIGlmICghcmVjb3JkKSByZXR1cm47DQoNCiAgICBsZXQgaHRtbCA9ICIiOw0KICAgIHN3aXRjaCh0eXBlKSB7DQogICAgICAgIGNhc2UgImZ1bGwiOiBodG1sID0gZ2VuZXJhdGVGdWxsUHJpbnRDb250ZW50KHJlY29yZCk7IGJyZWFrOw0KICAgICAgICBjYXNlICJtZWRpY2luZSI6IGh0bWwgPSBnZW5lcmF0ZU1lZGljaW5lUHJpbnRDb250ZW50KHJlY29yZCk7IGJyZWFrOw0KICAgICAgICBjYXNlICJwcm9jZWR1cmUiOiBodG1sID0gZ2VuZXJhdGVQcm9jZWR1cmVQcmludENvbnRlbnQocmVjb3JkKTsgYnJlYWs7DQogICAgICAgIGNhc2UgInByb2dyZXNzIjogaHRtbCA9IGdlbmVyYXRlUHJvZ3Jlc3NQcmludENvbnRlbnQocmVjb3JkKTsgYnJlYWs7DQogICAgfQ0KDQogICAgLy8g4bqoTiA0IGzhu7FhIGNo4buNbg0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2aWV3T3B0aW9ucyIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgLy8gSEnhu4ZOIHRvb2xiYXINCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldmlld1Rvb2xiYXIiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCg0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwZGZQcmV2aWV3QXJlYSIpLmlubmVySFRNTCA9IGANCiAgICAgICAgPGRpdiBjbGFzcz0icGRmLXBhZ2UiPg0KICAgICAgICAgICAgJHtodG1sfQ0KICAgICAgICA8L2Rpdj4NCiAgICBgOw0KfQ0KZnVuY3Rpb24gYmFja1RvT3B0aW9ucygpIHsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldmlld09wdGlvbnMiKS5zdHlsZS5kaXNwbGF5ID0gImdyaWQiOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2aWV3VG9vbGJhciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBkZlByZXZpZXdBcmVhIikuaW5uZXJIVE1MID0gIiI7DQp9DQoNCg0KICAgIDwvc2NyaXB0Pg0KCQ0KPGZvb3RlciBjbGFzcz0iYXBwLWZvb3RlciI+DQogICAgwqkgMjAyNSBEckMNCjwvZm9vdGVyPg0KCTwhLS0gSUZSQU1FIETDmU5HIENITyBJTiAoS0jDlE5HIMSQxq/hu6JDIFjDk0EpIC0tPg0KPGlmcmFtZSBpZD0icHJpbnRGcmFtZSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjwvaWZyYW1lPg0KPGRpdiBpZD0icHJldmlld1NlbGVjdE1vZGFsIiBjbGFzcz0ibW9kYWwiPg0KICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjEwMDBweCI+DQogICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4NCiAgICAgIDxoMz7wn5GBIFhlbSB0csaw4bubYyBQREY8L2gzPg0KICAgICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UtYnRuIiBvbmNsaWNrPSJjbG9zZVByZXZpZXdNb2RhbCgpIj4mdGltZXM7PC9idXR0b24+DQogICAgPC9kaXY+DQoNCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4NCg0KICAgICAgPCEtLSBDSOG7jE4gTE/huqBJIC0tPg0KICAgICAgPGRpdiBpZD0icHJldmlld09wdGlvbnMiIGNsYXNzPSJvcHRpb24tZ3JpZCIgc3R5bGU9Im1hcmdpbi1ib3R0b206MjBweCI+DQogICAgICAgIDxkaXYgY2xhc3M9ImV4cG9ydC1vcHRpb24iIG9uY2xpY2s9InByZXZpZXdQREYoJ2Z1bGwnKSI+8J+ThCBUb8OgbiBi4buZIGLhu4duaCDDoW48L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0iZXhwb3J0LW9wdGlvbiIgb25jbGljaz0icHJldmlld1BERignbWVkaWNpbmUnKSI+8J+SiiBUaHXhu5FjPC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9ImV4cG9ydC1vcHRpb24iIG9uY2xpY2s9InByZXZpZXdQREYoJ3Byb2NlZHVyZScpIj7wn5ugIFRo4bunIHRodeG6rXQ8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0iZXhwb3J0LW9wdGlvbiIgb25jbGljaz0icHJldmlld1BERigncHJvZ3Jlc3MnKSI+8J+TiCBEaeG7hW4gYmnhur9uPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPCEtLSBUT09MQkFSIC0tPg0KICAgICAgPGRpdiBpZD0icHJldmlld1Rvb2xiYXIiIHN0eWxlPSJkaXNwbGF5Om5vbmU7IG1hcmdpbi1ib3R0b206MTVweCI+DQogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IiBvbmNsaWNrPSJiYWNrVG9PcHRpb25zKCkiPuKGkCBDaOG7jW4gbG/huqFpIGtow6FjPC9idXR0b24+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPCEtLSBQUkVWSUVXIC0tPg0KICAgICAgPGRpdiBjbGFzcz0icGRmLXByZXZpZXctd3JhcHBlciIgaWQ9InBkZlByZXZpZXdBcmVhIj48L2Rpdj4NCg0KICAgIDwvZGl2Pg0KICA8L2Rpdj4NCjwvZGl2Pg0KDQoNCg0KPC9ib2R5Pg0KPC9odG1sPg0K";
  const binary = atob(base64);
  const bytes = new Uint8Array([...binary].map(c => c.charCodeAt(0)));
  const decoded = new TextDecoder("utf-8").decode(bytes);
  document.write(decoded);
</script>
</body>
</html>
